import{_,A as g,G as h,H as x,m as s,B as T,M as l,o as b,c as S,e as u,f as a,t as B}from"./index-BBgQu1ue.js";const P={class:"video"},F=["autoplay","controls","src"],V={class:"subtitle"},k={__name:"TheVideo",props:{letterbox:Boolean},setup(D){const e=g(),i=h(),c=x(),o=s(null),r=s(!1),d=T(()=>i.getMediaUrl(e.video.file));function p(){var t;o.value!=null&&(e.time=((t=o.value)==null?void 0:t.currentTime)??0)}function f(t){t.target.currentTime=e.playFrom??0,e.playFrom=null}function m(){e.isExternalPlayer?e.requestNext():c.push({name:"graph",params:{type:"graph",id:e.next}})}function v(){o.value!=null&&(e.duration=o.value.duration)}return l(()=>e.playFrom,t=>{t!=null&&(o.value.currentTime=t,e.playFrom=null)}),l(()=>e.setPlaying,t=>{t!=null&&(t?o.value.play():o.value.pause(),e.setPlaying=null)}),(t,n)=>(b(),S("main",P,[u("video",{ref_key:"video",ref:o,crossorigin:"anonymous",autoplay:r.value,controls:!r.value,src:d.value,onLoadstart:f,onEnded:m,onTimeupdate:p,onPause:n[0]||(n[0]=y=>a(e).playing=!1),onPlay:n[1]||(n[1]=y=>a(e).playing=!0),onDurationchange:v},null,40,F),u("div",V,B(a(e).subtitle),1)]))}},M=_(k,[["__scopeId","data-v-3987b7b5"]]);export{M as T};
