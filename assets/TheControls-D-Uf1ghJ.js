import{_ as k,o as n,h as m,i as h,k as q,n as I,l as E,m as V,q as T,Q as O,u as z,a as U,A as D,b as Z,c as l,e as c,d as f,f as s,Y as W,F as N,r as R,t as A,L as j,S as Q,U as X,B as _,I as P,x as Y}from"./index-3REa0sbF.js";import"./TheHeader-CFqbFhSm.js";const G={__name:"InputButton",props:{tag:{type:String,default:"button"},active:{type:Boolean,default:!1},primary:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disablePadding:{type:Boolean,default:!1}},setup(r){return(e,o)=>(n(),m(E(r.tag),{class:I(["button",{active:r.active,primary:r.primary,"disable-padding":r.disablePadding}]),disabled:r.disabled},{default:h(()=>[q(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","disabled"]))}},B=k(G,[["__scopeId","data-v-58df8eba"]]),H={class:"right"},J={__name:"TheFooter",setup(r){V("Wanderer"),T(),O();const e=z(),o=U();return D(),Z(),(t,g)=>(n(),l("footer",null,[c("span",H,[f(W,{horizontal:"","equal-size":"",modelValue:s(e).lang,"onUpdate:modelValue":g[0]||(g[0]=v=>s(e).lang=v),options:s(o).languages},null,8,["modelValue","options"])])]))}},D1=k(J,[["__scopeId","data-v-ca6f1fc9"]]),K={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function e1(r,e){return n(),l("svg",K,e[0]||(e[0]=[c("path",{d:"M17,15.7895644 L17,29.2104356 C17,29.7627203 17.4477153,30.2104356 18,30.2104356 C18.1850598,30.2104356 18.3664897,30.1590832 18.5240974,30.0620939 L29.4285552,23.3516583 C29.8989131,23.0622073 30.0455671,22.4462605 29.7561161,21.9759026 C29.6740728,21.8425821 29.5618757,21.730385 29.4285552,21.6483417 L18.5240974,14.9379061 C18.0537395,14.6484551 17.4377927,14.7951091 17.1483417,15.265467 C17.0513523,15.4230747 17,15.6045046 17,15.7895644 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const t1={name:"base-ControlsPlay",render:e1},n1={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function o1(r,e){return n(),l("svg",n1,e[0]||(e[0]=[c("path",{d:"M18,15 L20,15 C20.5522847,15 21,15.4477153 21,16 L21,29 C21,29.5522847 20.5522847,30 20,30 L18,30 C17.4477153,30 17,29.5522847 17,29 L17,16 C17,15.4477153 17.4477153,15 18,15 Z M25,15 L27,15 C27.5522847,15 28,15.4477153 28,16 L28,29 C28,29.5522847 27.5522847,30 27,30 L25,30 C24.4477153,30 24,29.5522847 24,29 L24,16 C24,15.4477153 24.4477153,15 25,15 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const r1={name:"base-ControlsPause",render:o1},s1={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function a1(r,e){return n(),l("svg",s1,e[0]||(e[0]=[c("polyline",{stroke:"#000000","stroke-width":"2",transform:"matrix(-1 0 0 1 43.5 0)",points:"18.5 16 25 22.5 18.5 29",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const l1={name:"base-ControlsMarkerPrevious",render:a1},i1={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function u1(r,e){return n(),l("svg",i1,e[0]||(e[0]=[c("polyline",{stroke:"#000000","stroke-width":"2",points:"20 16 26.5 22.5 20 29",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const d1={name:"base-ControlsMarkerNext",render:u1},c1={class:"icon",width:"3",height:"45",viewBox:"0 0 3 45",xmlns:"http://www.w3.org/2000/svg"};function C1(r,e){return n(),l("svg",c1,e[0]||(e[0]=[c("path",{d:"M2,36.5 C2,36.7761424 1.77614237,37 1.5,37 C1.22385763,37 1,36.7761424 1,36.5 L1,8.5 C1,8.22385763 1.22385763,8 1.5,8 C1.77614237,8 2,8.22385763 2,8.5 L2,36.5 Z",fill:"currentColor",opacity:".25"},null,-1)]))}const p1={name:"base-SeperatorVertical",render:C1},m1=["onClick"],g1={__name:"ContextMenuList",props:["context"],setup(r){return(e,o)=>(n(),m(j,{class:"context-menu-list"},{default:h(()=>[(n(!0),l(N,null,R(r.context,(t,g)=>(n(),l("button",{key:g,onClick:t.action},A(t.label),9,m1))),128))]),_:1}))}},f1=k(g1,[["__scopeId","data-v-5b0e52e5"]]),v1={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function h1(r,e){return n(),l("svg",v1,e[0]||(e[0]=[c("g",{fill:"none","fill-rule":"evenodd"},[c("path",{d:"M18,14 C18.5522847,14 19,14.4477153 19,15 C19,15.5522847 18.5522847,16 18,16 L17,16 C16.4477153,16 16,16.4477153 16,17 L16,18 C16,18.5522847 15.5522847,19 15,19 C14.4477153,19 14,18.5522847 14,18 L14,17 C14,15.3431458 15.3431458,14 17,14 L18,14 Z M31,18 C31,18.5522847 30.5522847,19 30,19 C29.4477153,19 29,18.5522847 29,18 L29,17 C29,16.4477153 28.5522847,16 28,16 L27,16 C26.4477153,16 26,15.5522847 26,15 C26,14.4477153 26.4477153,14 27,14 L28,14 C29.6568542,14 31,15.3431458 31,17 L31,18 Z M27,31 C26.4477153,31 26,30.5522847 26,30 C26,29.4477153 26.4477153,29 27,29 L28,29 C28.5522847,29 29,28.5522847 29,28 L29,27 C29,26.4477153 29.4477153,26 30,26 C30.5522847,26 31,26.4477153 31,27 L31,28 C31,29.6568542 29.6568542,31 28,31 L27,31 Z M14,27 C14,26.4477153 14.4477153,26 15,26 C15.5522847,26 16,26.4477153 16,27 L16,28 C16,28.5522847 16.4477153,29 17,29 L18,29 C18.5522847,29 19,29.4477153 19,30 C19,30.5522847 18.5522847,31 18,31 L17,31 C15.3431458,31 14,29.6568542 14,28 L14,27 Z",fill:"currentColor","fill-rule":"nonzero"}),c("path",{d:"M23.2071068,15.2071068 L29.7928932,21.7928932 C30.1834175,22.1834175 30.1834175,22.8165825 29.7928932,23.2071068 L23.2071068,29.7928932 C22.8165825,30.1834175 22.1834175,30.1834175 21.7928932,29.7928932 L15.2071068,23.2071068 C14.8165825,22.8165825 14.8165825,22.1834175 15.2071068,21.7928932 L21.7928932,15.2071068 C22.1834175,14.8165825 22.8165825,14.8165825 23.2071068,15.2071068 Z",fill:"currentColor"})],-1)]))}const _1={name:"base-DisplayDefaultFrame",render:h1},L1={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function w1(r,e){return n(),l("svg",L1,e[0]||(e[0]=[c("path",{d:"M23.2071068,15.2071068 L29.7928932,21.7928932 C30.1834175,22.1834175 30.1834175,22.8165825 29.7928932,23.2071068 L23.2071068,29.7928932 C22.8165825,30.1834175 22.1834175,30.1834175 21.7928932,29.7928932 L15.2071068,23.2071068 C14.8165825,22.8165825 14.8165825,22.1834175 15.2071068,21.7928932 L21.7928932,15.2071068 C22.1834175,14.8165825 22.8165825,14.8165825 23.2071068,15.2071068 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const k1={name:"base-DisplayDefault",render:w1},y1={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function x1(r,e){return n(),l("svg",y1,e[0]||(e[0]=[c("path",{d:"M19,14 C19.5522847,14 20,14.4477153 20,15 C20,15.5522847 19.5522847,16 19,16 L17,16 C16.4477153,16 16,16.4477153 16,17 L16,19 C16,19.5522847 15.5522847,20 15,20 C14.4477153,20 14,19.5522847 14,19 L14,17 C14,15.3431458 15.3431458,14 17,14 L19,14 Z M31,19 C31,19.5522847 30.5522847,20 30,20 C29.4477153,20 29,19.5522847 29,19 L29,17 C29,16.4477153 28.5522847,16 28,16 L26,16 C25.4477153,16 25,15.5522847 25,15 C25,14.4477153 25.4477153,14 26,14 L28,14 C29.6568542,14 31,15.3431458 31,17 L31,19 Z M26,31 C25.4477153,31 25,30.5522847 25,30 C25,29.4477153 25.4477153,29 26,29 L28,29 C28.5522847,29 29,28.5522847 29,28 L29,26 C29,25.4477153 29.4477153,25 30,25 C30.5522847,25 31,25.4477153 31,26 L31,28 C31,29.6568542 29.6568542,31 28,31 L26,31 Z M14,26 C14,25.4477153 14.4477153,25 15,25 C15.5522847,25 16,25.4477153 16,26 L16,28 C16,28.5522847 16.4477153,29 17,29 L19,29 C19.5522847,29 20,29.4477153 20,30 C20,30.5522847 19.5522847,31 19,31 L17,31 C15.3431458,31 14,29.6568542 14,28 L14,26 Z",fill:"currentColor"},null,-1)]))}const b1={name:"base-DisplayFrame",render:x1},M1={key:0,class:"markers"},$1=["onClick","onMousemove","onContextmenu"],S1={__name:"ControlsProgress",props:{showMarkers:Boolean},setup(r){const e=V(0),o=Z(),t=D(),g=Q(),v=X(),y=_(()=>o.data.nodes[t.graphId]),M=_(()=>{const u=`${t.time/t.duration*100}%`;return`linear-gradient(to right, var(--left) ${u}, var(--right) ${u})`});function L(u,C){(C||!t.playing)&&(t.playFrom=t.time=u.offsetX/u.target.getBoundingClientRect().width*t.duration),C&&i()}function $(u){return`${u/t.duration*100}%`}function x(u,C,p){u.stopPropagation(),(p||!t.playing)&&(t.playFrom=t.time=C.time),p&&i()}function i(){e.value=t.time}function d(){t.playFrom=t.time=e.value}function S(u,C,p){u.preventDefault(),u.stopPropagation(),g.open(f1,[{label:"delete",action:()=>{o.data.nodes[t.graphId].marker=o.data.nodes[t.graphId].marker.filter((a,b)=>b!==p)}},{label:"+",remainOpen:!0,action:a=>{a.stopPropagation(),o.data.nodes[t.graphId].marker[p].time+=1}},{label:"-",remainOpen:!0,action:a=>{a.stopPropagation(),o.data.nodes[t.graphId].marker[p].time-=1}},...C.bounds!=null?[{label:"clear bounds",action:()=>{v.setBounds(null,t.graphId,C.time)}}]:[]],{x:u.x,y:u.y})}return(u,C)=>{var p;return n(),l("div",{class:"progress",style:P({background:M.value}),onClick:C[0]||(C[0]=a=>L(a,!0)),onMousemove:L,onMouseenter:i,onMouseleave:d},[r.showMarkers&&((p=y.value)!=null&&p.marker)?(n(),l("div",M1,[(n(!0),l(N,null,R(y.value.marker,(a,b)=>(n(),l("div",{key:b,class:I(["marker",{active:a.time===s(t).time||a.time===e.value}]),style:P({left:$(a.time)}),onClick:w=>x(w,a,!0),onMousemove:w=>x(w,a),onContextmenu:w=>S(w,a,b)},[a.bounds&&a.states?(n(),m(s(_1),{key:0})):a.states?(n(),m(s(k1),{key:1})):(n(),m(s(b1),{key:2}))],46,$1))),128))])):Y("",!0)],36)}}},F=k(S1,[["__scopeId","data-v-158acf2c"]]),B1={__name:"TheControls",setup(r){const e=Z(),o=D(),t=z(),g=T(),v=_(()=>e.data.nodes[o.graphId]),y=_(()=>{var i;if(((i=v.value)==null?void 0:i.color)!=null)return{"--graph-accent":`var(--${v.value.color})`}}),M=_(()=>o.playing),L=_(()=>v.value.marker.toSorted((i,d)=>i.time-d.time));function $(){var i;o.playFrom=o.time=((i=L.value.findLast(d=>d.time<o.time))==null?void 0:i.time)??0}function x(){var i;o.playFrom=o.time=((i=L.value.find(d=>d.time>o.time))==null?void 0:i.time)??o.duration}return(i,d)=>(n(),l("section",{class:I(["timeline",{edit:s(t).edit}]),style:P(y.value)},[s(t).edit&&s(g).name==="graph"?(n(),m(j,{key:0,class:"button-group",horizontal:""},{default:h(()=>[f(B,{"disable-padding":""},{default:h(()=>[M.value?(n(),m(s(r1),{key:1,onClick:d[1]||(d[1]=S=>s(o).setPlaying=!1)})):(n(),m(s(t1),{key:0,onClick:d[0]||(d[0]=S=>s(o).setPlaying=!0)}))]),_:1}),f(B,{"disable-padding":""},{default:h(()=>[f(s(l1),{onClick:$})]),_:1}),f(B,{"disable-padding":""},{default:h(()=>[f(s(d1),{onClick:x})]),_:1}),f(s(p1)),f(F,{"show-markers":""})]),_:1})):(n(),m(F,{key:1}))],6))}},Z1=k(B1,[["__scopeId","data-v-93e4623d"]]);export{t1 as C,k1 as D,B as I,D1 as T,Z1 as a,f1 as b,b1 as c};
