import{o as K,c as lt,a as rt,_ as qt,A as Pe,d as ie,B as De,r as st,f as j,h as Y,v as St,i as vt,g as ct,p as Nt,L as qr,k as Mt,C as pr,D as Oe,u as ve,E as Te,w as Yt,G as Re,H as gr,x as gi,T as yi,t as In,J as Qt,q as Zo,m as En,y as jt,F as on,j as zn,l as Wo,K as Xo,M as vi,N as yr,O as Un,e as mi,P as vr,z as Yo,Q as _i,R as je,S as Ko,U as Qo,V as jo,b as Jo,W as Vr,X as Gr,I as ta}from"./index-CY0-rq1F.js";import{D as xi,C as mr,b as ea,a as na,T as ra}from"./TheControls-DpRUH3rs.js";import{T as ia}from"./TheVideo-BWp2Itid.js";import{I as oa,m as aa,T as sa}from"./TheHeader-BWURY0Bl.js";import{I as la}from"./Export-BVl8IDjN.js";const ua={class:"icon",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};function ca(t,e){return K(),lt("svg",ua,e[0]||(e[0]=[rt("g",{fill:"none","fill-rule":"evenodd"},[rt("polygon",{fill:"currentColor",points:"7.5 13.3038184 7.5 14.8038184 12.5 14.8038184 12.5 13.3038184 10.75 13.3038184 10.75 8.30381839 8 8.30381839 8 9.80381839 9.25 9.80381839 9.25 13.3038184"}),rt("path",{d:"M10,0 C15.5228475,0 20,4.4771525 20,10 C20,15.5228475 15.5228475,20 10,20 C4.4771525,20 0,15.5228475 0,10 C0,4.4771525 4.4771525,0 10,0 Z M10,2 C5.581722,2 2,5.581722 2,10 C2,14.418278 5.581722,18 10,18 C14.418278,18 18,14.418278 18,10 C18,5.581722 14.418278,2 10,2 Z",fill:"currentColor","fill-rule":"nonzero"}),rt("circle",{fill:"currentColor",cx:"10",cy:"5.692",r:"1.209"})],-1)]))}const fa={name:"base-About",render:ca},ha={class:"icon",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};function da(t,e){return K(),lt("svg",ha,e[0]||(e[0]=[rt("g",{fill:"none","fill-rule":"evenodd","stroke-linecap":"round"},[rt("line",{x1:"2",y1:"2",x2:"18",y2:"18",stroke:"#000000","stroke-width":"2"}),rt("line",{x1:"18",y1:"2",x2:"2",y2:"18",stroke:"#000000","stroke-width":"2"})],-1)]))}const pa={name:"base-Close",render:da},ga={key:0,class:"about"},ya=["innerHTML"],va={__name:"TheAbout",setup(t){const e=Pe(),n=ie(),r=De(),i=st(!1);function o(){i.value=!i.value,i.value&&window.addEventListener("click",()=>{i.value=!1},{once:!0})}const a=j(()=>{let s=r.localize(n.about);return n.kiosk&&(s=s.replace(/([^!])\[(.*)\]\((.*)\)/g,(f,l,u)=>`${l}${u}`)),s.replace(/\[(.*)\]\((.*)\)/g,(f,l,u,p)=>`[${l}](${r.getMediaUrl(u)})`)});return(s,f)=>Y(n).about?(K(),lt("div",ga,[Y(e).name==="graph"?(K(),St(qr,{key:0,horizontal:"",class:"item"},{default:vt(()=>[ct(oa,{"disable-padding":"",onClick:Nt(o,["stop"]),active:i.value},{default:vt(()=>[i.value?(K(),St(Y(pa),{key:1})):(K(),St(Y(fa),{key:0}))]),_:1},8,["active"])]),_:1})):Mt("",!0),i.value?(K(),St(qr,{key:1,class:"text-wrapper",onClick:f[0]||(f[0]=Nt(()=>{},["stop"]))},{default:vt(()=>[rt("div",{class:"text",innerHTML:Y(aa).parse(a.value)},null,8,ya)]),_:1})):Mt("",!0)])):Mt("",!0)}},ma=qt(va,[["__scopeId","data-v-fa8d1b2a"]]),_a={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function xa(t,e){return K(),lt("svg",_a,e[0]||(e[0]=[rt("path",{d:"M17,15.7895644 L17,29.2104356 C17,29.7627203 17.4477153,30.2104356 18,30.2104356 C18.1850598,30.2104356 18.3664897,30.1590832 18.5240974,30.0620939 L29.4285552,23.3516583 C29.8989131,23.0622073 30.0455671,22.4462605 29.7561161,21.9759026 C29.6740728,21.8425821 29.5618757,21.730385 29.4285552,21.6483417 L18.5240974,14.9379061 C18.0537395,14.6484551 17.4377927,14.7951091 17.1483417,15.265467 C17.0513523,15.4230747 17,15.6045046 17,15.7895644 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const wa={name:"base-ControlsPlay",render:xa};var ba={value:()=>{}};function Zn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $n(n)}function $n(t){this._=t}function Ca(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$n.prototype=Zn.prototype={constructor:$n,on:function(t,e){var n=this._,r=Ca(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Ma(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Ur(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ur(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $n(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ma(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ur(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ba,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ir="http://www.w3.org/1999/xhtml";const Zr={svg:"http://www.w3.org/2000/svg",xhtml:ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Zr.hasOwnProperty(e)?{space:Zr[e],local:t}:t}function Sa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ir&&e.documentElement.namespaceURI===ir?e.createElement(t):e.createElementNS(n,t)}}function La(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wi(t){var e=Wn(t);return(e.local?La:Sa)(e)}function Aa(){}function _r(t){return t==null?Aa:function(){return this.querySelector(t)}}function $a(t){typeof t!="function"&&(t=_r(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),f,l,u=0;u<a;++u)(f=o[u])&&(l=t.call(f,f.__data__,u,o))&&("__data__"in f&&(l.__data__=f.__data__),s[u]=l);return new Ht(r,this._parents)}function ka(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Na(){return[]}function bi(t){return t==null?Na:function(){return this.querySelectorAll(t)}}function Ta(t){return function(){return ka(t.apply(this,arguments))}}function Ia(t){typeof t=="function"?t=Ta(t):t=bi(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,f,l=0;l<s;++l)(f=a[l])&&(r.push(t.call(f,f.__data__,l,a)),i.push(f));return new Ht(r,i)}function Ci(t){return function(){return this.matches(t)}}function Mi(t){return function(e){return e.matches(t)}}var Ea=Array.prototype.find;function za(t){return function(){return Ea.call(this.children,t)}}function Pa(){return this.firstElementChild}function Da(t){return this.select(t==null?Pa:za(typeof t=="function"?t:Mi(t)))}var Oa=Array.prototype.filter;function Ra(){return Array.from(this.children)}function Ba(t){return function(){return Oa.call(this.children,t)}}function Fa(t){return this.selectAll(t==null?Ra:Ba(typeof t=="function"?t:Mi(t)))}function Ha(t){typeof t!="function"&&(t=Ci(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],f,l=0;l<a;++l)(f=o[l])&&t.call(f,f.__data__,l,o)&&s.push(f);return new Ht(r,this._parents)}function Si(t){return new Array(t.length)}function qa(){return new Ht(this._enter||this._groups.map(Si),this._parents)}function Pn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pn.prototype={constructor:Pn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Va(t){return function(){return t}}function Ga(t,e,n,r,i,o){for(var a=0,s,f=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Pn(t,o[a]);for(;a<f;++a)(s=e[a])&&(i[a]=s)}function Ua(t,e,n,r,i,o,a){var s,f,l=new Map,u=e.length,p=o.length,h=new Array(u),d;for(s=0;s<u;++s)(f=e[s])&&(h[s]=d=a.call(f,f.__data__,s,e)+"",l.has(d)?i[s]=f:l.set(d,f));for(s=0;s<p;++s)d=a.call(t,o[s],s,o)+"",(f=l.get(d))?(r[s]=f,f.__data__=o[s],l.delete(d)):n[s]=new Pn(t,o[s]);for(s=0;s<u;++s)(f=e[s])&&l.get(h[s])===f&&(i[s]=f)}function Za(t){return t.__data__}function Wa(t,e){if(!arguments.length)return Array.from(this,Za);var n=e?Ua:Ga,r=this._parents,i=this._groups;typeof t!="function"&&(t=Va(t));for(var o=i.length,a=new Array(o),s=new Array(o),f=new Array(o),l=0;l<o;++l){var u=r[l],p=i[l],h=p.length,d=Xa(t.call(u,u&&u.__data__,l,r)),S=d.length,m=s[l]=new Array(S),v=a[l]=new Array(S),_=f[l]=new Array(h);n(u,p,m,v,_,d,e);for(var I=0,M=0,A,E;I<S;++I)if(A=m[I]){for(I>=M&&(M=I+1);!(E=v[M])&&++M<S;);A._next=E||null}}return a=new Ht(a,r),a._enter=s,a._exit=f,a}function Xa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ya(){return new Ht(this._exit||this._groups.map(Si),this._parents)}function Ka(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Qa(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),f=0;f<a;++f)for(var l=n[f],u=r[f],p=l.length,h=s[f]=new Array(p),d,S=0;S<p;++S)(d=l[S]||u[S])&&(h[S]=d);for(;f<i;++f)s[f]=n[f];return new Ht(s,this._parents)}function ja(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ja(t){t||(t=ts);function e(p,h){return p&&h?t(p.__data__,h.__data__):!p-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,f=i[o]=new Array(s),l,u=0;u<s;++u)(l=a[u])&&(f[u]=l);f.sort(e)}return new Ht(i,this._parents).order()}function ts(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function es(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ns(){return Array.from(this)}function rs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function is(){let t=0;for(const e of this)++t;return t}function os(){return!this.node()}function as(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function ss(t){return function(){this.removeAttribute(t)}}function ls(t){return function(){this.removeAttributeNS(t.space,t.local)}}function us(t,e){return function(){this.setAttribute(t,e)}}function cs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function hs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ds(t,e){var n=Wn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ls:ss:typeof e=="function"?n.local?hs:fs:n.local?cs:us)(n,e))}function Li(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ps(t){return function(){this.style.removeProperty(t)}}function gs(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ys(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function vs(t,e,n){return arguments.length>1?this.each((e==null?ps:typeof e=="function"?ys:gs)(t,e,n??"")):Ee(this.node(),t)}function Ee(t,e){return t.style.getPropertyValue(e)||Li(t).getComputedStyle(t,null).getPropertyValue(e)}function ms(t){return function(){delete this[t]}}function _s(t,e){return function(){this[t]=e}}function xs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ws(t,e){return arguments.length>1?this.each((e==null?ms:typeof e=="function"?xs:_s)(t,e)):this.node()[t]}function Ai(t){return t.trim().split(/^|\s+/)}function xr(t){return t.classList||new $i(t)}function $i(t){this._node=t,this._names=Ai(t.getAttribute("class")||"")}$i.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ki(t,e){for(var n=xr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ni(t,e){for(var n=xr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function bs(t){return function(){ki(this,t)}}function Cs(t){return function(){Ni(this,t)}}function Ms(t,e){return function(){(e.apply(this,arguments)?ki:Ni)(this,t)}}function Ss(t,e){var n=Ai(t+"");if(arguments.length<2){for(var r=xr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ms:e?bs:Cs)(n,e))}function Ls(){this.textContent=""}function As(t){return function(){this.textContent=t}}function $s(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ks(t){return arguments.length?this.each(t==null?Ls:(typeof t=="function"?$s:As)(t)):this.node().textContent}function Ns(){this.innerHTML=""}function Ts(t){return function(){this.innerHTML=t}}function Is(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Es(t){return arguments.length?this.each(t==null?Ns:(typeof t=="function"?Is:Ts)(t)):this.node().innerHTML}function zs(){this.nextSibling&&this.parentNode.appendChild(this)}function Ps(){return this.each(zs)}function Ds(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Os(){return this.each(Ds)}function Rs(t){var e=typeof t=="function"?t:wi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Bs(){return null}function Fs(t,e){var n=typeof t=="function"?t:wi(t),r=e==null?Bs:typeof e=="function"?e:_r(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hs(){var t=this.parentNode;t&&t.removeChild(this)}function qs(){return this.each(Hs)}function Vs(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gs(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Us(t){return this.select(t?Gs:Vs)}function Zs(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ws(t){return function(e){t.call(this,e,this.__data__)}}function Xs(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ys(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ks(t,e,n){return function(){var r=this.__on,i,o=Ws(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Qs(t,e,n){var r=Xs(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,l=s.length,u;f<l;++f)for(i=0,u=s[f];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?Ks:Ys,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Ti(t,e,n){var r=Li(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function js(t,e){return function(){return Ti(this,t,e)}}function Js(t,e){return function(){return Ti(this,t,e.apply(this,arguments))}}function tl(t,e){return this.each((typeof e=="function"?Js:js)(t,e))}function*el(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Ii=[null];function Ht(t,e){this._groups=t,this._parents=e}function un(){return new Ht([[document.documentElement]],Ii)}function nl(){return this}Ht.prototype=un.prototype={constructor:Ht,select:$a,selectAll:Ia,selectChild:Da,selectChildren:Fa,filter:Ha,data:Wa,enter:qa,exit:Ya,join:Ka,merge:Qa,selection:nl,order:ja,sort:Ja,call:es,nodes:ns,node:rs,size:is,empty:os,each:as,attr:ds,style:vs,property:ws,classed:Ss,text:ks,html:Es,raise:Ps,lower:Os,append:Rs,insert:Fs,remove:qs,clone:Us,datum:Zs,on:Qs,dispatch:tl,[Symbol.iterator]:el};function ge(t){return typeof t=="string"?new Ht([[document.querySelector(t)]],[document.documentElement]):new Ht([[t]],Ii)}function rl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ce(t,e){if(t=rl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const or={capture:!0,passive:!1};function ar(t){t.preventDefault(),t.stopImmediatePropagation()}function il(t){var e=t.document.documentElement,n=ge(t).on("dragstart.drag",ar,or);"onselectstart"in e?n.on("selectstart.drag",ar,or):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ol(t,e){var n=t.document.documentElement,r=ge(t).on("dragstart.drag",null);e&&(r.on("click.drag",ar,or),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function wr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ei(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cn(){}var an=.7,Dn=1/an,Ie="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",al=/^#([0-9a-f]{3,8})$/,sl=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),ll=new RegExp(`^rgb\\(${re},${re},${re}\\)$`),ul=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${sn}\\)$`),cl=new RegExp(`^rgba\\(${re},${re},${re},${sn}\\)$`),fl=new RegExp(`^hsl\\(${sn},${re},${re}\\)$`),hl=new RegExp(`^hsla\\(${sn},${re},${re},${sn}\\)$`),Wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wr(cn,Le,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xr,formatHex:Xr,formatHex8:dl,formatHsl:pl,formatRgb:Yr,toString:Yr});function Xr(){return this.rgb().formatHex()}function dl(){return this.rgb().formatHex8()}function pl(){return zi(this).formatHsl()}function Yr(){return this.rgb().formatRgb()}function Le(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=al.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kr(e):n===3?new Rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sl.exec(t))?new Rt(e[1],e[2],e[3],1):(e=ll.exec(t))?new Rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ul.exec(t))?bn(e[1],e[2],e[3],e[4]):(e=cl.exec(t))?bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fl.exec(t))?Jr(e[1],e[2]/100,e[3]/100,1):(e=hl.exec(t))?Jr(e[1],e[2]/100,e[3]/100,e[4]):Wr.hasOwnProperty(t)?Kr(Wr[t]):t==="transparent"?new Rt(NaN,NaN,NaN,0):null}function Kr(t){return new Rt(t>>16&255,t>>8&255,t&255,1)}function bn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rt(t,e,n,r)}function gl(t){return t instanceof cn||(t=Le(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function sr(t,e,n,r){return arguments.length===1?gl(t):new Rt(t,e,n,r??1)}function Rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wr(Rt,sr,Ei(cn,{brighter(t){return t=t==null?Dn:Math.pow(Dn,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rt(Se(this.r),Se(this.g),Se(this.b),On(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatHex8:yl,formatRgb:jr,toString:jr}));function Qr(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}`}function yl(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}${Me((isNaN(this.opacity)?1:this.opacity)*255)}`}function jr(){const t=On(this.opacity);return`${t===1?"rgb(":"rgba("}${Se(this.r)}, ${Se(this.g)}, ${Se(this.b)}${t===1?")":`, ${t})`}`}function On(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Se(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Me(t){return t=Se(t),(t<16?"0":"")+t.toString(16)}function Jr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xt(t,e,n,r)}function zi(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof cn||(t=Le(t)),!t)return new Xt;if(t instanceof Xt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,f=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=f<.5?o+i:2-o-i,a*=60):s=f>0&&f<1?0:a,new Xt(a,s,f,t.opacity)}function vl(t,e,n,r){return arguments.length===1?zi(t):new Xt(t,e,n,r??1)}function Xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wr(Xt,vl,Ei(cn,{brighter(t){return t=t==null?Dn:Math.pow(Dn,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rt(tr(t>=240?t-240:t+120,i,r),tr(t,i,r),tr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xt(ti(this.h),Cn(this.s),Cn(this.l),On(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=On(this.opacity);return`${t===1?"hsl(":"hsla("}${ti(this.h)}, ${Cn(this.s)*100}%, ${Cn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ti(t){return t=(t||0)%360,t<0?t+360:t}function Cn(t){return Math.max(0,Math.min(1,t||0))}function tr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const br=t=>()=>t;function ml(t,e){return function(n){return t+n*e}}function _l(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xl(t){return(t=+t)==1?Pi:function(e,n){return n-e?_l(e,n,t):br(isNaN(e)?n:e)}}function Pi(t,e){var n=e-t;return n?ml(t,n):br(isNaN(t)?e:t)}const Rn=function t(e){var n=xl(e);function r(i,o){var a=n((i=sr(i)).r,(o=sr(o)).r),s=n(i.g,o.g),f=n(i.b,o.b),l=Pi(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=f(u),i.opacity=l(u),i+""}}return r.gamma=t,r}(1);function wl(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cl(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Bn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Ml(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ne(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Sl(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var lr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,er=new RegExp(lr.source,"g");function Ll(t){return function(){return t}}function Al(t){return function(e){return t(e)+""}}function Di(t,e){var n=lr.lastIndex=er.lastIndex=0,r,i,o,a=-1,s=[],f=[];for(t=t+"",e=e+"";(r=lr.exec(t))&&(i=er.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,f.push({i:a,x:ne(r,i)})),n=er.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?f[0]?Al(f[0].x):Ll(e):(e=f.length,function(l){for(var u=0,p;u<e;++u)s[(p=f[u]).i]=p.x(l);return s.join("")})}function Bn(t,e){var n=typeof e,r;return e==null||n==="boolean"?br(e):(n==="number"?ne:n==="string"?(r=Le(e))?(e=r,Rn):Di:e instanceof Le?Rn:e instanceof Date?Ml:bl(e)?wl:Array.isArray(e)?Cl:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Sl:ne)(t,e)}var ei=180/Math.PI,ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Oi(t,e,n,r,i,o){var a,s,f;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,f/=s),t*r<e*n&&(t=-t,e=-e,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ei,skewX:Math.atan(f)*ei,scaleX:a,scaleY:s}}var Mn;function $l(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ur:Oi(e.a,e.b,e.c,e.d,e.e,e.f)}function kl(t){return t==null||(Mn||(Mn=document.createElementNS("http://www.w3.org/2000/svg","g")),Mn.setAttribute("transform",t),!(t=Mn.transform.baseVal.consolidate()))?ur:(t=t.matrix,Oi(t.a,t.b,t.c,t.d,t.e,t.f))}function Ri(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,u,p,h,d,S){if(l!==p||u!==h){var m=d.push("translate(",null,e,null,n);S.push({i:m-4,x:ne(l,p)},{i:m-2,x:ne(u,h)})}else(p||h)&&d.push("translate("+p+e+h+n)}function a(l,u,p,h){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),h.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ne(l,u)})):u&&p.push(i(p)+"rotate("+u+r)}function s(l,u,p,h){l!==u?h.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ne(l,u)}):u&&p.push(i(p)+"skewX("+u+r)}function f(l,u,p,h,d,S){if(l!==p||u!==h){var m=d.push(i(d)+"scale(",null,",",null,")");S.push({i:m-4,x:ne(l,p)},{i:m-2,x:ne(u,h)})}else(p!==1||h!==1)&&d.push(i(d)+"scale("+p+","+h+")")}return function(l,u){var p=[],h=[];return l=t(l),u=t(u),o(l.translateX,l.translateY,u.translateX,u.translateY,p,h),a(l.rotate,u.rotate,p,h),s(l.skewX,u.skewX,p,h),f(l.scaleX,l.scaleY,u.scaleX,u.scaleY,p,h),l=u=null,function(d){for(var S=-1,m=h.length,v;++S<m;)p[(v=h[S]).i]=v.x(d);return p.join("")}}}var Nl=Ri($l,"px, ","px)","deg)"),Tl=Ri(kl,", ",")",")"),Il=1e-12;function ni(t){return((t=Math.exp(t))+1/t)/2}function El(t){return((t=Math.exp(t))-1/t)/2}function zl(t){return((t=Math.exp(2*t))-1)/(t+1)}const Pl=function t(e,n,r){function i(o,a){var s=o[0],f=o[1],l=o[2],u=a[0],p=a[1],h=a[2],d=u-s,S=p-f,m=d*d+S*S,v,_;if(m<Il)_=Math.log(h/l)/e,v=function(Q){return[s+Q*d,f+Q*S,l*Math.exp(e*Q*_)]};else{var I=Math.sqrt(m),M=(h*h-l*l+r*m)/(2*l*n*I),A=(h*h-l*l-r*m)/(2*h*n*I),E=Math.log(Math.sqrt(M*M+1)-M),V=Math.log(Math.sqrt(A*A+1)-A);_=(V-E)/e,v=function(Q){var R=Q*_,B=ni(E),P=l/(n*I)*(B*zl(e*R+E)-El(E));return[s+P*d,f+P*S,l*B/ni(e*R+E)]}}return v.duration=_*1e3*e/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,f=s*s;return t(a,s,f)},i}(Math.SQRT2,2,4);var ze=0,Je=0,Ke=0,Bi=1e3,Fn,tn,Hn=0,Ae=0,Xn=0,ln=typeof performance=="object"&&performance.now?performance:Date,Fi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Cr(){return Ae||(Fi(Dl),Ae=ln.now()+Xn)}function Dl(){Ae=0}function qn(){this._call=this._time=this._next=null}qn.prototype=Mr.prototype={constructor:qn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Cr():+n)+(e==null?0:+e),!this._next&&tn!==this&&(tn?tn._next=this:Fn=this,tn=this),this._call=t,this._time=n,cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,cr())}};function Mr(t,e,n){var r=new qn;return r.restart(t,e,n),r}function Ol(){Cr(),++ze;for(var t=Fn,e;t;)(e=Ae-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ze}function ri(){Ae=(Hn=ln.now())+Xn,ze=Je=0;try{Ol()}finally{ze=0,Bl(),Ae=0}}function Rl(){var t=ln.now(),e=t-Hn;e>Bi&&(Xn-=e,Hn=t)}function Bl(){for(var t,e=Fn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Fn=n);tn=t,cr(r)}function cr(t){if(!ze){Je&&(Je=clearTimeout(Je));var e=t-Ae;e>24?(t<1/0&&(Je=setTimeout(ri,t-ln.now()-Xn)),Ke&&(Ke=clearInterval(Ke))):(Ke||(Hn=ln.now(),Ke=setInterval(Rl,Bi)),ze=1,Fi(ri))}}function ii(t,e,n){var r=new qn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Fl=Zn("start","end","cancel","interrupt"),Hl=[],Hi=0,oi=1,fr=2,kn=3,ai=4,hr=5,Nn=6;function Yn(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;ql(t,n,{name:e,index:r,group:i,on:Fl,tween:Hl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Hi})}function Sr(t,e){var n=Jt(t,e);if(n.state>Hi)throw new Error("too late; already scheduled");return n}function oe(t,e){var n=Jt(t,e);if(n.state>kn)throw new Error("too late; already running");return n}function Jt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ql(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Mr(o,0,n.time);function o(l){n.state=oi,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var u,p,h,d;if(n.state!==oi)return f();for(u in r)if(d=r[u],d.name===n.name){if(d.state===kn)return ii(a);d.state===ai?(d.state=Nn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=Nn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(ii(function(){n.state===kn&&(n.state=ai,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=fr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===fr){for(n.state=kn,i=new Array(h=n.tween.length),u=0,p=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=d);i.length=p+1}}function s(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(f),n.state=hr,1),p=-1,h=i.length;++p<h;)i[p].call(t,u);n.state===hr&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Nn,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Tn(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>fr&&r.state<hr,r.state=Nn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Vl(t){return this.each(function(){Tn(this,t)})}function Gl(t,e){var n,r;return function(){var i=oe(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ul(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=oe(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},f=0,l=i.length;f<l;++f)if(i[f].name===e){i[f]=s;break}f===l&&i.push(s)}o.tween=i}}function Zl(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Jt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Gl:Ul)(n,t,e))}function Lr(t,e,n){var r=t._id;return t.each(function(){var i=oe(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Jt(i,r).value[e]}}function qi(t,e){var n;return(typeof e=="number"?ne:e instanceof Le?Rn:(n=Le(e))?(e=n,Rn):Di)(t,e)}function Wl(t){return function(){this.removeAttribute(t)}}function Xl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yl(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Kl(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Ql(t,e,n){var r,i,o;return function(){var a,s=n(this),f;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,s)))}}function jl(t,e,n){var r,i,o;return function(){var a,s=n(this),f;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,s)))}}function Jl(t,e){var n=Wn(t),r=n==="transform"?Tl:qi;return this.attrTween(t,typeof e=="function"?(n.local?jl:Ql)(n,r,Lr(this,"attr."+t,e)):e==null?(n.local?Xl:Wl)(n):(n.local?Kl:Yl)(n,r,e))}function tu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function eu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function nu(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&eu(t,o)),n}return i._value=e,i}function ru(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&tu(t,o)),n}return i._value=e,i}function iu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Wn(t);return this.tween(n,(r.local?nu:ru)(r,e))}function ou(t,e){return function(){Sr(this,t).delay=+e.apply(this,arguments)}}function au(t,e){return e=+e,function(){Sr(this,t).delay=e}}function su(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ou:au)(e,t)):Jt(this.node(),e).delay}function lu(t,e){return function(){oe(this,t).duration=+e.apply(this,arguments)}}function uu(t,e){return e=+e,function(){oe(this,t).duration=e}}function cu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lu:uu)(e,t)):Jt(this.node(),e).duration}function fu(t,e){if(typeof e!="function")throw new Error;return function(){oe(this,t).ease=e}}function hu(t){var e=this._id;return arguments.length?this.each(fu(e,t)):Jt(this.node(),e).ease}function du(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;oe(this,t).ease=n}}function pu(t){if(typeof t!="function")throw new Error;return this.each(du(this._id,t))}function gu(t){typeof t!="function"&&(t=Ci(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],f,l=0;l<a;++l)(f=o[l])&&t.call(f,f.__data__,l,o)&&s.push(f);return new ce(r,this._parents,this._name,this._id)}function yu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var f=e[s],l=n[s],u=f.length,p=a[s]=new Array(u),h,d=0;d<u;++d)(h=f[d]||l[d])&&(p[d]=h);for(;s<r;++s)a[s]=e[s];return new ce(a,this._parents,this._name,this._id)}function vu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function mu(t,e,n){var r,i,o=vu(e)?Sr:oe;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function _u(t,e){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(t):this.each(mu(n,t,e))}function xu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function wu(){return this.on("end.remove",xu(this._id))}function bu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_r(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],f=s.length,l=o[a]=new Array(f),u,p,h=0;h<f;++h)(u=s[h])&&(p=t.call(u,u.__data__,h,s))&&("__data__"in u&&(p.__data__=u.__data__),l[h]=p,Yn(l[h],e,n,h,l,Jt(u,n)));return new ce(o,this._parents,e,n)}function Cu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bi(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var f=r[s],l=f.length,u,p=0;p<l;++p)if(u=f[p]){for(var h=t.call(u,u.__data__,p,f),d,S=Jt(u,n),m=0,v=h.length;m<v;++m)(d=h[m])&&Yn(d,e,n,m,h,S);o.push(h),a.push(u)}return new ce(o,a,e,n)}var Mu=un.prototype.constructor;function Su(){return new Mu(this._groups,this._parents)}function Lu(t,e){var n,r,i;return function(){var o=Ee(this,t),a=(this.style.removeProperty(t),Ee(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Vi(t){return function(){this.style.removeProperty(t)}}function Au(t,e,n){var r,i=n+"",o;return function(){var a=Ee(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function $u(t,e,n){var r,i,o;return function(){var a=Ee(this,t),s=n(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(t),Ee(this,t))),a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,s))}}function ku(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var f=oe(this,t),l=f.on,u=f.value[o]==null?s||(s=Vi(e)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(a,i=u),f.on=r}}function Nu(t,e,n){var r=(t+="")=="transform"?Nl:qi;return e==null?this.styleTween(t,Lu(t,r)).on("end.style."+t,Vi(t)):typeof e=="function"?this.styleTween(t,$u(t,r,Lr(this,"style."+t,e))).each(ku(this._id,t)):this.styleTween(t,Au(t,r,e),n).on("end.style."+t,null)}function Tu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Iu(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Tu(t,a,n)),r}return o._value=e,o}function Eu(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Iu(t,e,n??""))}function zu(t){return function(){this.textContent=t}}function Pu(t){return function(){var e=t(this);this.textContent=e??""}}function Du(t){return this.tween("text",typeof t=="function"?Pu(Lr(this,"text",t)):zu(t==null?"":t+""))}function Ou(t){return function(e){this.textContent=t.call(this,e)}}function Ru(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ou(i)),e}return r._value=t,r}function Bu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ru(t))}function Fu(){for(var t=this._name,e=this._id,n=Gi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,l=0;l<s;++l)if(f=a[l]){var u=Jt(f,e);Yn(f,t,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ce(r,this._parents,t,n)}function Hu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},f={value:function(){--i===0&&o()}};n.each(function(){var l=oe(this,r),u=l.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(f)),l.on=e}),i===0&&o()})}var qu=0;function ce(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Gi(){return++qu}var le=un.prototype;ce.prototype={constructor:ce,select:bu,selectAll:Cu,selectChild:le.selectChild,selectChildren:le.selectChildren,filter:gu,merge:yu,selection:Su,transition:Fu,call:le.call,nodes:le.nodes,node:le.node,size:le.size,empty:le.empty,each:le.each,on:_u,attr:Jl,attrTween:iu,style:Nu,styleTween:Eu,text:Du,textTween:Bu,remove:wu,tween:Zl,delay:su,duration:cu,ease:hu,easeVarying:pu,end:Hu,[Symbol.iterator]:le[Symbol.iterator]};function Vu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Gu={time:null,delay:0,duration:250,ease:Vu};function Uu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Zu(t){var e,n;t instanceof ce?(e=t._id,t=t._name):(e=Gi(),(n=Gu).time=Cr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,l=0;l<s;++l)(f=a[l])&&Yn(f,t,e,l,a,n||Uu(f,e));return new ce(r,this._parents,t,e)}un.prototype.interrupt=Vl;un.prototype.transition=Zu;const Sn=t=>()=>t;function Wu(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ue(t,e,n){this.k=t,this.x=e,this.y=n}ue.prototype={constructor:ue,scale:function(t){return t===1?this:new ue(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ue(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ar=new ue(1,0,0);ue.prototype;function nr(t){t.stopImmediatePropagation()}function Qe(t){t.preventDefault(),t.stopImmediatePropagation()}function Xu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Yu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function si(){return this.__zoom||Ar}function Ku(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Qu(){return navigator.maxTouchPoints||"ontouchstart"in this}function ju(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Ju(){var t=Xu,e=Yu,n=ju,r=Ku,i=Qu,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,f=Pl,l=Zn("start","zoom","end"),u,p,h,d=500,S=150,m=0,v=10;function _(y){y.property("__zoom",si).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",G).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(y,O,C,b){var T=y.selection?y.selection():y;T.property("__zoom",si),y!==T?E(y,O,C,b):T.interrupt().each(function(){V(this,arguments).event(b).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},_.scaleBy=function(y,O,C,b){_.scaleTo(y,function(){var T=this.__zoom.k,D=typeof O=="function"?O.apply(this,arguments):O;return T*D},C,b)},_.scaleTo=function(y,O,C,b){_.transform(y,function(){var T=e.apply(this,arguments),D=this.__zoom,x=C==null?A(T):typeof C=="function"?C.apply(this,arguments):C,L=D.invert(x),w=typeof O=="function"?O.apply(this,arguments):O;return n(M(I(D,w),x,L),T,a)},C,b)},_.translateBy=function(y,O,C,b){_.transform(y,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),a)},null,b)},_.translateTo=function(y,O,C,b,T){_.transform(y,function(){var D=e.apply(this,arguments),x=this.__zoom,L=b==null?A(D):typeof b=="function"?b.apply(this,arguments):b;return n(Ar.translate(L[0],L[1]).scale(x.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof C=="function"?-C.apply(this,arguments):-C),D,a)},b,T)};function I(y,O){return O=Math.max(o[0],Math.min(o[1],O)),O===y.k?y:new ue(O,y.x,y.y)}function M(y,O,C){var b=O[0]-C[0]*y.k,T=O[1]-C[1]*y.k;return b===y.x&&T===y.y?y:new ue(y.k,b,T)}function A(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function E(y,O,C,b){y.on("start.zoom",function(){V(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(b).end()}).tween("zoom",function(){var T=this,D=arguments,x=V(T,D).event(b),L=e.apply(T,D),w=C==null?A(L):typeof C=="function"?C.apply(T,D):C,$=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),N=T.__zoom,z=typeof O=="function"?O.apply(T,D):O,F=f(N.invert(w).concat($/N.k),z.invert(w).concat($/z.k));return function(H){if(H===1)H=z;else{var U=F(H),J=$/U[2];H=new ue(J,w[0]-U[0]*J,w[1]-U[1]*J)}x.zoom(null,H)}})}function V(y,O,C){return!C&&y.__zooming||new Q(y,O)}function Q(y,O){this.that=y,this.args=O,this.active=0,this.sourceEvent=null,this.extent=e.apply(y,O),this.taps=0}Q.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,O){return this.mouse&&y!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var O=ge(this.that).datum();l.call(y,this.that,new Wu(y,{sourceEvent:this.sourceEvent,target:_,type:y,transform:this.that.__zoom,dispatch:l}),O)}};function R(y,...O){if(!t.apply(this,arguments))return;var C=V(this,O).event(y),b=this.__zoom,T=Math.max(o[0],Math.min(o[1],b.k*Math.pow(2,r.apply(this,arguments)))),D=Ce(y);if(C.wheel)(C.mouse[0][0]!==D[0]||C.mouse[0][1]!==D[1])&&(C.mouse[1]=b.invert(C.mouse[0]=D)),clearTimeout(C.wheel);else{if(b.k===T)return;C.mouse=[D,b.invert(D)],Tn(this),C.start()}Qe(y),C.wheel=setTimeout(x,S),C.zoom("mouse",n(M(I(b,T),C.mouse[0],C.mouse[1]),C.extent,a));function x(){C.wheel=null,C.end()}}function B(y,...O){if(h||!t.apply(this,arguments))return;var C=y.currentTarget,b=V(this,O,!0).event(y),T=ge(y.view).on("mousemove.zoom",w,!0).on("mouseup.zoom",$,!0),D=Ce(y,C),x=y.clientX,L=y.clientY;il(y.view),nr(y),b.mouse=[D,this.__zoom.invert(D)],Tn(this),b.start();function w(N){if(Qe(N),!b.moved){var z=N.clientX-x,F=N.clientY-L;b.moved=z*z+F*F>m}b.event(N).zoom("mouse",n(M(b.that.__zoom,b.mouse[0]=Ce(N,C),b.mouse[1]),b.extent,a))}function $(N){T.on("mousemove.zoom mouseup.zoom",null),ol(N.view,b.moved),Qe(N),b.event(N).end()}}function P(y,...O){if(t.apply(this,arguments)){var C=this.__zoom,b=Ce(y.changedTouches?y.changedTouches[0]:y,this),T=C.invert(b),D=C.k*(y.shiftKey?.5:2),x=n(M(I(C,D),b,T),e.apply(this,O),a);Qe(y),s>0?ge(this).transition().duration(s).call(E,x,b,y):ge(this).call(_.transform,x,b,y)}}function G(y,...O){if(t.apply(this,arguments)){var C=y.touches,b=C.length,T=V(this,O,y.changedTouches.length===b).event(y),D,x,L,w;for(nr(y),x=0;x<b;++x)L=C[x],w=Ce(L,this),w=[w,this.__zoom.invert(w),L.identifier],T.touch0?!T.touch1&&T.touch0[2]!==w[2]&&(T.touch1=w,T.taps=0):(T.touch0=w,D=!0,T.taps=1+!!u);u&&(u=clearTimeout(u)),D&&(T.taps<2&&(p=w[0],u=setTimeout(function(){u=null},d)),Tn(this),T.start())}}function W(y,...O){if(this.__zooming){var C=V(this,O).event(y),b=y.changedTouches,T=b.length,D,x,L,w;for(Qe(y),D=0;D<T;++D)x=b[D],L=Ce(x,this),C.touch0&&C.touch0[2]===x.identifier?C.touch0[0]=L:C.touch1&&C.touch1[2]===x.identifier&&(C.touch1[0]=L);if(x=C.that.__zoom,C.touch1){var $=C.touch0[0],N=C.touch0[1],z=C.touch1[0],F=C.touch1[1],H=(H=z[0]-$[0])*H+(H=z[1]-$[1])*H,U=(U=F[0]-N[0])*U+(U=F[1]-N[1])*U;x=I(x,Math.sqrt(H/U)),L=[($[0]+z[0])/2,($[1]+z[1])/2],w=[(N[0]+F[0])/2,(N[1]+F[1])/2]}else if(C.touch0)L=C.touch0[0],w=C.touch0[1];else return;C.zoom("touch",n(M(x,L,w),C.extent,a))}}function q(y,...O){if(this.__zooming){var C=V(this,O).event(y),b=y.changedTouches,T=b.length,D,x;for(nr(y),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),D=0;D<T;++D)x=b[D],C.touch0&&C.touch0[2]===x.identifier?delete C.touch0:C.touch1&&C.touch1[2]===x.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(x=Ce(x,this),Math.hypot(p[0]-x[0],p[1]-x[1])<v)){var L=ge(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return _.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Sn(+y),_):r},_.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Sn(!!y),_):t},_.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Sn(!!y),_):i},_.extent=function(y){return arguments.length?(e=typeof y=="function"?y:Sn([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),_):e},_.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],_):[o[0],o[1]]},_.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],_):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},_.constrain=function(y){return arguments.length?(n=y,_):n},_.duration=function(y){return arguments.length?(s=+y,_):s},_.interpolate=function(y){return arguments.length?(f=y,_):f},_.on=function(){var y=l.on.apply(l,arguments);return y===l?_:y},_.clickDistance=function(y){return arguments.length?(m=(y=+y)*y,_):Math.sqrt(m)},_.tapDistance=function(y){return arguments.length?(v=+y,_):v},_}const Be=pr("layout",()=>{const t=st({}),e=st({x:0,y:0}),n=st({x:0,y:0,k:1});return{nodes:t,offset:e,transform:n}});function tc(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,f=0,l=0;for(o=0;o<a;++o)s=n[o],f+=s.x,l+=s.y;for(f=(f/a-t)*r,l=(l/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=f,s.y-=l}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function ec(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Ui(this.cover(e,n),e,n,t)}function Ui(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,f=t._y0,l=t._x1,u=t._y1,p,h,d,S,m,v,_,I;if(!o)return t._root=a,t;for(;o.length;)if((m=e>=(p=(s+l)/2))?s=p:l=p,(v=n>=(h=(f+u)/2))?f=h:u=h,i=o,!(o=o[_=v<<1|m]))return i[_]=a,t;if(d=+t._x.call(null,o.data),S=+t._y.call(null,o.data),e===d&&n===S)return a.next=o,i?i[_]=a:t._root=a,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(m=e>=(p=(s+l)/2))?s=p:l=p,(v=n>=(h=(f+u)/2))?f=h:u=h;while((_=v<<1|m)===(I=(S>=h)<<1|d>=p));return i[I]=o,i[_]=a,t}function nc(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),f=1/0,l=1/0,u=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<f&&(f=i),i>u&&(u=i),o<l&&(l=o),o>p&&(p=o));if(f>u||l>p)return this;for(this.cover(f,l).cover(u,p),n=0;n<r;++n)Ui(this,a[n],s[n],t[n]);return this}function rc(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,f,l;n>t||t>=i||r>e||e>=o;)switch(l=(e<r)<<1|t<n,f=new Array(4),f[l]=s,s=f,a*=2,l){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function ic(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function oc(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Et(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function ac(t,e,n){var r,i=this._x0,o=this._y0,a,s,f,l,u=this._x1,p=this._y1,h=[],d=this._root,S,m;for(d&&h.push(new Et(d,i,o,u,p)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,p=e+n,n*=n);S=h.pop();)if(!(!(d=S.node)||(a=S.x0)>u||(s=S.y0)>p||(f=S.x1)<i||(l=S.y1)<o))if(d.length){var v=(a+f)/2,_=(s+l)/2;h.push(new Et(d[3],v,_,f,l),new Et(d[2],a,_,v,l),new Et(d[1],v,s,f,_),new Et(d[0],a,s,v,_)),(m=(e>=_)<<1|t>=v)&&(S=h[h.length-1],h[h.length-1]=h[h.length-1-m],h[h.length-1-m]=S)}else{var I=t-+this._x.call(null,d.data),M=e-+this._y.call(null,d.data),A=I*I+M*M;if(A<n){var E=Math.sqrt(n=A);i=t-E,o=e-E,u=t+E,p=e+E,r=d.data}}return r}function sc(t){if(isNaN(u=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,f=this._x1,l=this._y1,u,p,h,d,S,m,v,_;if(!n)return this;if(n.length)for(;;){if((S=u>=(h=(a+f)/2))?a=h:f=h,(m=p>=(d=(s+l)/2))?s=d:l=d,e=n,!(n=n[v=m<<1|S]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,_=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[v]=o:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=o,this)}function lc(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function uc(){return this._root}function cc(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function fc(t){var e=[],n,r=this._root,i,o,a,s,f;for(r&&e.push(new Et(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,f=n.y1)&&r.length){var l=(o+s)/2,u=(a+f)/2;(i=r[3])&&e.push(new Et(i,l,u,s,f)),(i=r[2])&&e.push(new Et(i,o,u,l,f)),(i=r[1])&&e.push(new Et(i,l,a,s,u)),(i=r[0])&&e.push(new Et(i,o,a,l,u))}return this}function hc(t){var e=[],n=[],r;for(this._root&&e.push(new Et(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,f=r.x1,l=r.y1,u=(a+f)/2,p=(s+l)/2;(o=i[0])&&e.push(new Et(o,a,s,u,p)),(o=i[1])&&e.push(new Et(o,u,s,f,p)),(o=i[2])&&e.push(new Et(o,a,p,u,l)),(o=i[3])&&e.push(new Et(o,u,p,f,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function dc(t){return t[0]}function pc(t){return arguments.length?(this._x=t,this):this._x}function gc(t){return t[1]}function yc(t){return arguments.length?(this._y=t,this):this._y}function $r(t,e,n){var r=new kr(e??dc,n??gc,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function kr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function li(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var zt=$r.prototype=kr.prototype;zt.copy=function(){var t=new kr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=li(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=li(r));return t};zt.add=ec;zt.addAll=nc;zt.cover=rc;zt.data=ic;zt.extent=oc;zt.find=ac;zt.remove=sc;zt.removeAll=lc;zt.root=uc;zt.size=cc;zt.visit=fc;zt.visitAfter=hc;zt.x=pc;zt.y=yc;function Kt(t){return function(){return t}}function ye(t){return(t()-.5)*1e-6}function vc(t){return t.x+t.vx}function mc(t){return t.y+t.vy}function _c(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Kt(t==null?1:+t));function a(){for(var l,u=e.length,p,h,d,S,m,v,_=0;_<o;++_)for(p=$r(e,vc,mc).visitAfter(s),l=0;l<u;++l)h=e[l],m=n[h.index],v=m*m,d=h.x+h.vx,S=h.y+h.vy,p.visit(I);function I(M,A,E,V,Q){var R=M.data,B=M.r,P=m+B;if(R){if(R.index>h.index){var G=d-R.x-R.vx,W=S-R.y-R.vy,q=G*G+W*W;q<P*P&&(G===0&&(G=ye(r),q+=G*G),W===0&&(W=ye(r),q+=W*W),q=(P-(q=Math.sqrt(q)))/q*i,h.vx+=(G*=q)*(P=(B*=B)/(v+B)),h.vy+=(W*=q)*P,R.vx-=G*(P=1-P),R.vy-=W*P)}return}return A>d+P||V<d-P||E>S+P||Q<S-P}}function s(l){if(l.data)return l.r=n[l.data.index];for(var u=l.r=0;u<4;++u)l[u]&&l[u].r>l.r&&(l.r=l[u].r)}function f(){if(e){var l,u=e.length,p;for(n=new Array(u),l=0;l<u;++l)p=e[l],n[p.index]=+t(p,l,e)}}return a.initialize=function(l,u){e=l,r=u,f()},a.iterations=function(l){return arguments.length?(o=+l,a):o},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),f(),a):t},a}function xc(t){return t.index}function ui(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function wc(t){var e=xc,n=p,r,i=Kt(30),o,a,s,f,l,u=1;t==null&&(t=[]);function p(v){return 1/Math.min(s[v.source.index],s[v.target.index])}function h(v){for(var _=0,I=t.length;_<u;++_)for(var M=0,A,E,V,Q,R,B,P;M<I;++M)A=t[M],E=A.source,V=A.target,Q=V.x+V.vx-E.x-E.vx||ye(l),R=V.y+V.vy-E.y-E.vy||ye(l),B=Math.sqrt(Q*Q+R*R),B=(B-o[M])/B*v*r[M],Q*=B,R*=B,V.vx-=Q*(P=f[M]),V.vy-=R*P,E.vx+=Q*(P=1-P),E.vy+=R*P}function d(){if(a){var v,_=a.length,I=t.length,M=new Map(a.map((E,V)=>[e(E,V,a),E])),A;for(v=0,s=new Array(_);v<I;++v)A=t[v],A.index=v,typeof A.source!="object"&&(A.source=ui(M,A.source)),typeof A.target!="object"&&(A.target=ui(M,A.target)),s[A.source.index]=(s[A.source.index]||0)+1,s[A.target.index]=(s[A.target.index]||0)+1;for(v=0,f=new Array(I);v<I;++v)A=t[v],f[v]=s[A.source.index]/(s[A.source.index]+s[A.target.index]);r=new Array(I),S(),o=new Array(I),m()}}function S(){if(a)for(var v=0,_=t.length;v<_;++v)r[v]=+n(t[v],v,t)}function m(){if(a)for(var v=0,_=t.length;v<_;++v)o[v]=+i(t[v],v,t)}return h.initialize=function(v,_){a=v,l=_,d()},h.links=function(v){return arguments.length?(t=v,d(),h):t},h.id=function(v){return arguments.length?(e=v,h):e},h.iterations=function(v){return arguments.length?(u=+v,h):u},h.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Kt(+v),S(),h):n},h.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Kt(+v),m(),h):i},h}const bc=1664525,Cc=1013904223,ci=4294967296;function Mc(){let t=1;return()=>(t=(bc*t+Cc)%ci)/ci}function Sc(t){return t.x}function Lc(t){return t.y}var Ac=10,$c=Math.PI*(3-Math.sqrt(5));function kc(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,f=Mr(p),l=Zn("tick","end"),u=Mc();t==null&&(t=[]);function p(){h(),l.call("tick",e),n<r&&(f.stop(),l.call("end",e))}function h(m){var v,_=t.length,I;m===void 0&&(m=1);for(var M=0;M<m;++M)for(n+=(o-n)*i,s.forEach(function(A){A(n)}),v=0;v<_;++v)I=t[v],I.fx==null?I.x+=I.vx*=a:(I.x=I.fx,I.vx=0),I.fy==null?I.y+=I.vy*=a:(I.y=I.fy,I.vy=0);return e}function d(){for(var m=0,v=t.length,_;m<v;++m){if(_=t[m],_.index=m,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var I=Ac*Math.sqrt(.5+m),M=m*$c;_.x=I*Math.cos(M),_.y=I*Math.sin(M)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function S(m){return m.initialize&&m.initialize(t,u),m}return d(),e={tick:h,restart:function(){return f.restart(p),e},stop:function(){return f.stop(),e},nodes:function(m){return arguments.length?(t=m,d(),s.forEach(S),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(o=+m,e):o},velocityDecay:function(m){return arguments.length?(a=1-m,e):1-a},randomSource:function(m){return arguments.length?(u=m,s.forEach(S),e):u},force:function(m,v){return arguments.length>1?(v==null?s.delete(m):s.set(m,S(v)),e):s.get(m)},find:function(m,v,_){var I=0,M=t.length,A,E,V,Q,R;for(_==null?_=1/0:_*=_,I=0;I<M;++I)Q=t[I],A=m-Q.x,E=v-Q.y,V=A*A+E*E,V<_&&(R=Q,_=V);return R},on:function(m,v){return arguments.length>1?(l.on(m,v),e):l.on(m)}}}function Nc(){var t,e,n,r,i=Kt(-30),o,a=1,s=1/0,f=.81;function l(d){var S,m=t.length,v=$r(t,Sc,Lc).visitAfter(p);for(r=d,S=0;S<m;++S)e=t[S],v.visit(h)}function u(){if(t){var d,S=t.length,m;for(o=new Array(S),d=0;d<S;++d)m=t[d],o[m.index]=+i(m,d,t)}}function p(d){var S=0,m,v,_=0,I,M,A;if(d.length){for(I=M=A=0;A<4;++A)(m=d[A])&&(v=Math.abs(m.value))&&(S+=m.value,_+=v,I+=v*m.x,M+=v*m.y);d.x=I/_,d.y=M/_}else{m=d,m.x=m.data.x,m.y=m.data.y;do S+=o[m.data.index];while(m=m.next)}d.value=S}function h(d,S,m,v){if(!d.value)return!0;var _=d.x-e.x,I=d.y-e.y,M=v-S,A=_*_+I*I;if(M*M/f<A)return A<s&&(_===0&&(_=ye(n),A+=_*_),I===0&&(I=ye(n),A+=I*I),A<a&&(A=Math.sqrt(a*A)),e.vx+=_*d.value*r/A,e.vy+=I*d.value*r/A),!0;if(d.length||A>=s)return;(d.data!==e||d.next)&&(_===0&&(_=ye(n),A+=_*_),I===0&&(I=ye(n),A+=I*I),A<a&&(A=Math.sqrt(a*A)));do d.data!==e&&(M=o[d.data.index]*r/A,e.vx+=_*M,e.vy+=I*M);while(d=d.next)}return l.initialize=function(d,S){t=d,n=S,u()},l.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Kt(+d),u(),l):i},l.distanceMin=function(d){return arguments.length?(a=d*d,l):Math.sqrt(a)},l.distanceMax=function(d){return arguments.length?(s=d*d,l):Math.sqrt(s)},l.theta=function(d){return arguments.length?(f=d*d,l):Math.sqrt(f)},l}function Tc(t,e,n){var r,i=Kt(.1),o,a;typeof t!="function"&&(t=Kt(+t)),e==null&&(e=0),n==null&&(n=0);function s(l){for(var u=0,p=r.length;u<p;++u){var h=r[u],d=h.x-e||1e-6,S=h.y-n||1e-6,m=Math.sqrt(d*d+S*S),v=(a[u]-m)*o[u]*l/m;h.vx+=d*v,h.vy+=S*v}}function f(){if(r){var l,u=r.length;for(o=new Array(u),a=new Array(u),l=0;l<u;++l)a[l]=+t(r[l],l,r),o[l]=isNaN(a[l])?0:+i(r[l],l,r)}}return s.initialize=function(l){r=l,f()},s.strength=function(l){return arguments.length?(i=typeof l=="function"?l:Kt(+l),f(),s):i},s.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),f(),s):t},s.x=function(l){return arguments.length?(e=+l,s):e},s.y=function(l){return arguments.length?(n=+l,s):n},s}const Ne=ie(),ke=Be();function Ic(t){var u,p;ke.offset.x+=((u=ke.nodes[t])==null?void 0:u.x)??0,ke.offset.y+=((p=ke.nodes[t])==null?void 0:p.y)??0;const n=Zi(t,1).flat(2),r=[...new Set(n.map(h=>h.id))].filter(h=>{var d;return["entity","predicate"].includes((d=Ne.data.nodes[h])==null?void 0:d.type)}),o=[...r.map(h=>{const d=n.filter(S=>S.id===h).map(({depth:S})=>S);return{id:h,depth:1-Math.max(...d)}}).map(({id:h,depth:d})=>({id:h,depth:d,...l(h)}))],a=[...Ne.data.edges.filter(h=>r.includes(h.nodes[0])&&r.includes(h.nodes[1])).map(h=>({source:h.nodes[0],target:h.nodes[1]}))],s=Ne.data.nodes[t].class;s!=null&&(o.push({id:s,depth:1,...l(s)}),a.push({source:t,target:s})),Ne.nodes.filter(h=>h.class===t).forEach(h=>{o.push({id:h.id,depth:1,...l(h.id)}),a.push({source:h.id,target:t})});const f=kc(o).force("link",wc(a).id(h=>h.id).distance(100)).force("collide",_c().radius(h=>{var d;return((d=Ne.data.nodes[h.id])==null?void 0:d.type)==="graph"?160:50})).force("charge",Nc().strength(-5e3)).force("center",tc(0,0)).force("radial",Tc(h=>h.depth*550,0,0).strength(2));for(let h=0;h<1e3;h++)f.tick();return Object.fromEntries(o.filter(({proxy:h})=>!h).map(({id:h,x:d,y:S})=>[h,{x:d,y:S}]));function l(h){if(h===t)return{x:0,y:0};if(ke.nodes[h]!=null)return ke.nodes[h];const d=Math.random()*Math.PI*2;return{x:Math.cos(d)*250,y:Math.sin(d)*250}}}function Zi(t,e=1){return[{id:t,depth:e},...Ne.data.edges.filter(n=>n.nodes.includes(t)).map(n=>{const r=n.nodes.find(i=>i!==t);return e===1?{id:r,depth:0}:Zi(r,e-1)})]}const Nr=pr("display",()=>{const t=Oe(),e=ie(),n=ve(),r=j(()=>{var u,p;return n.markersDisabled?[]:((u=e.node)==null?void 0:u.marker)==null?[]:(p=e.node)==null?void 0:p.marker.filter(h=>h.time<=t.time).sort((h,d)=>h.time-d.time)}),i=j(()=>{var u,p;if(!n.markersDisabled)return(p=(u=e.node)==null?void 0:u.marker)==null?void 0:p.find(h=>h.time===t.time)}),o=j(()=>r.value.reduce((u,p)=>({...u,...p.states}),{states:{}})),a=j(()=>{var u;return(u=r.value.findLast(p=>p.bounds!=null))==null?void 0:u.bounds});function s(u){return n.markersDisabled?"default":u.includes("hide")?"hide":u.every(p=>p==="highlight")?"highlight":"default"}function f(u){if(n.markersDisabled)return"default";const p=u.map(h=>e.data.nodes[h].inheritDisplay?l(h):o.value[h]);return s(p)}function l(u){if(n.markersDisabled)return"default";const p=e.data.edges.filter(h=>h.nodes.includes(u)).map(h=>{const d=h.nodes.find(S=>S!==u);return o.value[d]});return s(p)}return{markers:r,exactMarker:i,states:o,bounds:a,inheritStateFromNodes:f,inheritStateFromNeighbor:l}}),Ec=pr("connect",()=>{const t=ie(),e=st(!1),n=st({x:100,y:100}),r=st(null),i=st(null),o=st(null),a=new AbortController;function s(l,u,p){e.value=!0,i.value=u,r.value=l,o.value=p,window.addEventListener("keydown",h=>{h.key==="Escape"&&(a.abort(),e.value=!1)},{signal:a.signal})}function f(l){a.abort(),e.value=!1,t.data.edges.push({nodes:[r.value,l],arrow:i.value,graph:o.value,id:crypto.randomUUID()})}return{connecting:e,offset:n,open:s,start:r,close:f}}),zc={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"},Pc=["id"],Dc=["filter"];function Oc(t,e){return K(),lt("svg",zc,[rt("defs",null,[rt("filter",{x:"-34.9%",y:"-34.9%",width:"169.8%",height:"169.8%",filterUnits:"objectBoundingBox",id:t.idMap.a},e[0]||(e[0]=[rt("feGaussianBlur",{stdDeviation:"2",in:"SourceGraphic"},null,-1)]),8,Pc)]),rt("path",{d:"M22.7071068,15.7071068 L29.2928932,22.2928932 C29.6834175,22.6834175 29.6834175,23.3165825 29.2928932,23.7071068 L22.7071068,30.2928932 C22.3165825,30.6834175 21.6834175,30.6834175 21.2928932,30.2928932 L14.7071068,23.7071068 C14.3165825,23.3165825 14.3165825,22.6834175 14.7071068,22.2928932 L21.2928932,15.7071068 C21.6834175,15.3165825 22.3165825,15.3165825 22.7071068,15.7071068 Z",fill:"currentColor",filter:"url(#"+t.idMap.a+")","fill-rule":"evenodd",opacity:".832"},null,8,Dc)])}const Wi={name:"base-DisplayBlur",render:Oc,data(){return{idMap:{a:"uicons-"+Math.random().toString(36).substr(2,10)}}}},Rc={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function Bc(t,e){return K(),lt("svg",Rc,e[0]||(e[0]=[rt("path",{d:"M17.1464466,27.1464466 L17.8535534,27.8535534 L15.3535534,30.3535534 L14.6464466,29.6464466 L17.1464466,27.1464466 Z M27.8535534,27.1464466 L30.3535534,29.6464466 L29.6464466,30.3535534 L27.1464466,27.8535534 L27.8535534,27.1464466 Z M23.2071068,15.2071068 L29.7928932,21.7928932 C30.1834175,22.1834175 30.1834175,22.8165825 29.7928932,23.2071068 L23.2071068,29.7928932 C22.8165825,30.1834175 22.1834175,30.1834175 21.7928932,29.7928932 L15.2071068,23.2071068 C14.8165825,22.8165825 14.8165825,22.1834175 15.2071068,21.7928932 L21.7928932,15.2071068 C22.1834175,14.8165825 22.8165825,14.8165825 23.2071068,15.2071068 Z M29.6464466,14.6464466 L30.3535534,15.3535534 L27.8535534,17.8535534 L27.1464466,17.1464466 L29.6464466,14.6464466 Z M15.3535534,14.6464466 L17.8535534,17.1464466 L17.1464466,17.8535534 L14.6464466,15.3535534 L15.3535534,14.6464466 Z M20.7868105,14.1744381 L19.8208847,14.4332571 L18.9058212,11.0181936 L19.871747,10.7593745 L20.7868105,14.1744381 Z M26.0941788,33.9818064 L25.128253,34.2406255 L24.2131895,30.8255619 L25.1791153,30.5667429 L26.0941788,33.9818064 Z M25.1791153,14.4332571 L24.2131895,14.1744381 L25.128253,10.7593745 L26.0941788,11.0181936 L25.1791153,14.4332571 Z M19.871747,34.2406255 L18.9058212,33.9818064 L19.8208847,30.5667429 L20.7868105,30.8255619 L19.871747,34.2406255 Z M30.8255619,20.7868105 L30.5667429,19.8208847 L33.9818064,18.9058212 L34.2406255,19.871747 L30.8255619,20.7868105 Z M11.0181936,26.0941788 L10.7593745,25.128253 L14.1744381,24.2131895 L14.4332571,25.1791153 L11.0181936,26.0941788 Z M30.5667429,25.1791153 L30.8255619,24.2131895 L34.2406255,25.128253 L33.9818064,26.0941788 L30.5667429,25.1791153 Z M10.7593745,19.871747 L11.0181936,18.9058212 L14.4332571,19.8208847 L14.1744381,20.7868105 L10.7593745,19.871747 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const Xi={name:"base-DisplayHighlight",render:Bc},nn=Be();function Fc(t){var r;const e=document.createRange(),n=(r=t.value)==null?void 0:r.childNodes;return n==null?0:(e.setStartBefore(n[0]),e.setEndAfter(n[n.length-1]),`${e.getBoundingClientRect().width/nn.transform.k}px`)}function Yi(t,e,n,r=0,i=0){var h;const o=document.createRange();if(((h=t.value)==null?void 0:h.childNodes)==null)return{};let s=t.value.firstElementChild;for(let d=r;d>0;d--)s=s.nextElementSibling;let f=t.value.lastElementChild;for(let d=i;d>0;d--)f=f.previousElementSibling;o.setStartBefore(s),o.setEndAfter(f);const l=o.getBoundingClientRect(),u=t.value.getBoundingClientRect().width,p={...n,width:Math.min(l.width,u)/nn.transform.k,height:l.height/nn.transform.k};return nn.nodes[e]=p,p}function fi(t){if(t!=null)return t.getBoundingClientRect().width/nn.transform.k}const Hc={class:"horizontal-slider"},qc=["disabled"],Vc=["disabled"],Gc=30,Uc={__name:"HorizontalSlider",props:{itemWidth:{type:Number,default:250},gap:{type:Number,default:10},position:{type:Number,default:null},noArrows:Boolean},emits:["select-item","update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=st(null),o=st(0),a=st(0),s=st(0),f=st(null),l=st(null),u=new ResizeObserver(m=>{for(const v of m)v.contentRect&&(f.value=`${(window.innerWidth-800)/2-30}px`,l.value=`${Math.max((window.innerWidth-800)/2-10,30)}px`,Te(()=>{o.value=i.value.scrollWidth,a.value=i.value.offsetWidth}))}),p=j(()=>s.value>35&&!n.noArrows),h=j(()=>s.value<o.value-a.value-35&&!n.noArrows);function d(){var m;s.value=((m=i.value)==null?void 0:m.scrollLeft)??0,r("select-item",Math.round((s.value-Gc)/(n.itemWidth+n.gap)))}const S=m=>{i.value.scrollBy({left:(n.itemWidth+n.gap)*m,behavior:"smooth"})};return Yt(()=>n.position,m=>{m!=null&&i.value.scrollTo({left:(n.itemWidth+n.gap)*m,behavior:"smooth"})}),Re(()=>{n.position&&i.value.scrollTo({left:(n.itemWidth+n.gap)*n.position,behavior:"instant"}),u.observe(i.value)}),gr(()=>{u.unobserve(i.value)}),(m,v)=>(K(),lt("div",Hc,[rt("button",{disabled:!p.value,tabindex:"-1",class:"arrow left",onClick:v[0]||(v[0]=_=>S(-1))}," ← ",8,qc),rt("button",{disabled:!h.value,tabindex:"-1",class:"arrow right",onClick:v[1]||(v[1]=_=>S(1))}," → ",8,Vc),rt("div",{ref_key:"wrapper",ref:i,class:"wrapper",onScroll:d,style:{scrollPaddingInlineStart:"0px"}},[gi(m.$slots,"default",{},void 0,!0)],544)]))}},Zc=qt(Uc,[["__scopeId","data-v-04825c7b"]]),Wc={class:"icon",width:"21",height:"21",viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"};function Xc(t,e){return K(),lt("svg",Wc,e[0]||(e[0]=[rt("path",{d:"M10.5,21 C16.2989899,21 21,16.2989899 21,10.5 C21,4.70101013 16.2989899,0 10.5,0 C4.70101013,0 0,4.70101013 0,10.5 C0,16.2989899 4.70101013,21 10.5,21 Z M10.5,14 C12.4329966,14 14,12.4329966 14,10.5 C14,8.56700338 12.4329966,7 10.5,7 C8.56700338,7 7,8.56700338 7,10.5 C7,12.4329966 8.56700338,14 10.5,14 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const Yc={name:"base-IconPlaying",render:Xc},Kc={__name:"IconPlaying",setup(t){return(e,n)=>(K(),St(Y(Yc)))}},Qc=qt(Kc,[["__scopeId","data-v-aea62c91"]]),jc=["src"],Jc={key:1,class:"image-placeholder"},tf={class:"icon"},ef={__name:"GraphNodeGraph",props:{node:Object,id:String,position:Object},setup(t,{expose:e}){const n=t,r=De(),i=Oe(),o=ve(),a=st(null),s=st(null),f=j(()=>r.localize(n.node.label)),l=j(()=>r.getMediaUrl(n.node.image)),u=j(()=>({"--graph-accent":`var(--${n.node.color})`})),p=j(()=>i.graphId===n.id&&i.playing),h=j(()=>i.next===n.id),d=j(()=>{if(!h.value)return;const m=i.duration-i.time;if(!(m>5))return{"--autoplay":`${100-m*20}%`}});Re(()=>{S()}),Yt(()=>o.lang,()=>Te(()=>S()));function S(m){Yi(s,n.id,n.position,null,m),console.log()}return e({el:s}),(m,v)=>(K(),lt("div",{class:"node-graph",ref_key:"el",ref:s,style:Qt({...u.value,...d.value})},[l.value?(K(),lt("img",{key:0,src:l.value,draggable:"false"},null,8,jc)):(K(),lt("div",Jc)),rt("div",tf,[ct(yi,{name:"fade",mode:"out-in"},{default:vt(()=>[p.value?(K(),St(Qc,{key:1})):(K(),St(Y(wa),{key:0}))]),_:1})]),rt("div",{class:"text",ref_key:"textElement",ref:a},[rt("span",null,[rt("span",null,In(f.value),1)])],512)],4))}},Ki=qt(ef,[["__scopeId","data-v-487f4295"]]),nf={key:0},rf={key:2,class:"description"},of={key:3,class:"urls"},af=["href"],sf={__name:"GraphNodeEntity",props:{node:Object,id:String,occurances:Array,position:Object},setup(t,{expose:e}){const n=Pe(),r=t,i=ie(),o=ve(),a=De(),s=st(null),f=st(null),l=st(null),u=st(null),p=st(!1),h=st(null),d=st(null),S=st(0),m=j(()=>{var R;return(R=i.data.nodes[r.node.class])==null?void 0:R.label}),v=j(()=>n.params.id===r.id),_=j(()=>i.storyId!=null&&n.params.type!=="graph"&&i.data.edges.find(R=>R.nodes.includes(r.id)&&R.nodes.includes(n.params.id)&&R.graph===i.storyId)==null),I=j(()=>{if(v.value)return a.localize(r.node.description,!0)}),M=j(()=>{if(!(!v.value||r.node.url==null))return r.node.url.map(R=>({full:R,domain:new URL(R).hostname.replace(/^www\./,"")}))});Re(()=>{A()}),Yt(v,R=>{R&&(p.value=!0,S.value=Math.max(r.occurances.findIndex(G=>G.id===i.storyId),0));const B=(fi(s.value.querySelector(".label"))-250)/2;h.value={margin:`0 ${-B}px 0 ${B}px`};const P=(fi(s.value.querySelector(".class"))-250)/2;d.value={margin:`0 ${-P}px 0 ${P}px`},Te(()=>{A(R?0:1),R||(p.value=!0,h.value=null,d.value=null)})}),Yt(()=>o.lang,()=>Te(()=>A())),Yt(()=>i.storyIdForce,R=>{if(R!=null&&v.value){const B=r.occurances.findIndex(P=>P.id===R);S.value=null,i.storyIdForce=null,Te(()=>S.value=B)}}),e({el:s});function A(R){const B=Yi(s,r.id,r.position,null,R);u.value=`${B.height}px`}function E(R){R.propertyName==="margin-left"&&(p.value=!1,h.value=null,d.value=null)}function V(R){i.storyId=r.occurances[R].id}function Q(){if(n.name==="graph"&&n.params.type!=="graph"&&!v.value){const R=n.params.id,B=i.data.edges.filter(P=>P.nodes.includes(R)&&P.nodes.includes(r.id)&&P.graph!=null);if(B.length){if(B.find(P=>P.graph===i.storyId))return;i.storyIdForce=B[0].graph}}}return(R,B)=>{const P=Zo("RouterLink");return K(),lt("div",{class:jt(["entity",{detail:v.value,secondary:_.value}]),ref_key:"el",ref:s,style:Qt({width:l.value,height:u.value}),onMouseover:Q},[rt("span",{class:jt(["label",{"animate-text-align":p.value}]),style:Qt(h.value),onTransitionend:E},[ct(En,{text:t.node.label},null,8,["text"])],38),m.value?(K(),lt("br",nf)):Mt("",!0),m.value?(K(),lt("span",{key:1,class:jt(["class",{"animate-text-align":p.value}]),style:Qt(d.value)},[ct(En,{text:m.value},null,8,["text"])],6)):Mt("",!0),I.value?(K(),lt("div",rf,In(I.value),1)):Mt("",!0),M.value&&!Y(i).kiosk?(K(),lt("div",of,[(K(!0),lt(on,null,zn(M.value,(G,W)=>(K(),lt("span",{key:W},[rt("a",{href:G.full},In(G.domain),9,af),B[3]||(B[3]=Wo("  "))]))),128))])):Mt("",!0),ct(yi,{name:"stories"},{default:vt(()=>[v.value?(K(),St(Zc,{key:0,position:S.value,ref_key:"slider",ref:f,class:"occurances",onWheel:B[1]||(B[1]=Nt(()=>{},["stop"])),onTouchstart:B[2]||(B[2]=Nt(()=>{},["stop"])),"no-arrows":p.value,onSelectItem:V},{default:vt(()=>[(K(!0),lt(on,null,zn(t.occurances,G=>(K(),St(P,{class:"occurance",onClick:B[0]||(B[0]=Nt(()=>{},["stop"])),key:G.id,to:{name:"graph",params:{type:"graph",id:G.id}}},{default:vt(()=>[ct(Ki,{id:G.id,node:G,class:"compact"},null,8,["id","node"])]),_:2},1032,["to"]))),128))]),_:1},8,["position","no-arrows"])):Mt("",!0)]),_:1})],38)}}},lf=qt(sf,[["__scopeId","data-v-5f06f91a"]]),uf={data(){return{count:0}},props:{node:Object},computed:{label(){return this.helperStore.localize(this.node.label??this.node.text)},...Xo(De)}},cf={class:"entity",ref:"el"},ff={class:"text measure-width"};function hf(t,e,n,r,i,o){return K(),lt("div",cf,[rt("span",ff,In(o.label),1)],512)}const df=qt(uf,[["render",hf],["__scopeId","data-v-b64e33c2"]]),pf={class:"image"},gf=["srcset"],yf={__name:"GraphNodeImage",props:{node:Object},setup(t,{expose:e}){const n=t,r=De(),i=st(null),o=j(()=>r.getMediaUrl(n.node.file));return e({el:i}),(a,s)=>(K(),lt("div",pf,[rt("img",{ref_key:"el",ref:i,srcset:`${o.value} 2x`,draggable:"false"},null,8,gf)]))}},vf=qt(yf,[["__scopeId","data-v-7cbb6b98"]]),mf={__name:"GraphNodeNote",props:{node:Object,occurances:Array},setup(t,{expose:e}){const n=t,r=De(),i=st(null),o=st(null);j(()=>r.localize(n.node.text));const a=j(()=>{if(!(n.occurances.length!==1||n.occurances[0].color==null))return{"--graph-accent":`var(--${n.occurances[0].color})`}});return Re(()=>{o.value=Fc(i)}),e({el:i}),(s,f)=>(K(),lt("div",{class:"note",ref_key:"el",ref:i,style:Qt({...a.value,width:o.value})},null,4))}},_f=qt(mf,[["__scopeId","data-v-4fff4b26"]]),hi={default:df,entity:lf,graph:Ki,image:vf,note:_f};function xf(t){return hi[t]??hi.default}const wf={__name:"GraphNode",props:{id:String,view:String,position:Object,graph:[String,Boolean]},setup(t){const e=t,n=vi();Pe();const r=ie(),i=Be(),o=Nr(),a=yr(),s=Oe(),f=ve(),l=Un(),u=mi(),p=Ec(),h=vr(),d=st(null),S=st(!1),m=st(!1),v=j(()=>r.data.nodes[e.id]),_=j(()=>({transform:`translate(${e.position.x+i.offset.x}px, ${e.position.y+i.offset.y}px) translate(-50%, -50%)`})),I=j(()=>xf(v.value.type)),M=j(()=>d.value.el??d.value.$el),A=j(()=>r.graphs.filter(b=>Object.prototype.hasOwnProperty.call(b.allocations??{},e.id))),E=j(()=>v.value.inheritDisplay?o.inheritStateFromNeighbor(e.id):o.states[e.id]),V=j(()=>{var b,T,D,x;return(x=(D=(T=(b=r.data.nodes)==null?void 0:b[e.graph])==null?void 0:T.allocations)==null?void 0:D[e.id])==null?void 0:x.locked}),Q=new ResizeObserver(b=>{for(const T of b)T.contentRect});function R(b){if(!f.edit||b.metaKey){if(!S.value&&E.value==="hide")return;n.push({name:"graph",params:{type:v.value.type,id:e.id}})}else p.connecting?p.close(e.id):h.mode==="add-edge"?p.open(e.id,"→",e.graph):h.mode==="display-blur"?h.setDisplay(e.id,"hide",e.graph):h.mode==="display-default"?h.setDisplay(e.id,"default",e.graph):h.mode==="display-highlight"?h.setDisplay(e.id,"highlight",e.graph):h.mode==="display-unset"&&h.setDisplay(e.id,null,e.graph)}function B(){f.edit&&u.open(e.id,"node")}function P(b){if(!f.edit||e.view!=="diagram"||b.button!==0||V.value)return;b.stopPropagation();const T={x:b.x,y:b.y},D={x:r.data.nodes[e.graph].allocations[e.id].x,y:r.data.nodes[e.graph].allocations[e.id].y},x=new AbortController;window.addEventListener("mousemove",w=>{const $={x:(w.x-T.x)/i.transform.k,y:(w.y-T.y)/i.transform.k},N=w.shiftKey?.5:20,z=Math.round((D.x+$.x)/N)*N,F=Math.round((D.y+$.y)/N)*N;r.data.nodes[e.graph].allocations[e.id].x=z,r.data.nodes[e.graph].allocations[e.id].y=F},{signal:x.signal}),window.addEventListener("mouseup",()=>{L()},{once:!0,signal:x.signal}),window.addEventListener("keydown",w=>{w.key==="Escape"&&L()},{signal:x.signal});function L(){x.abort()}}function G(b,T){return b?[T]:[]}function W(b){f.edit&&(b.preventDefault(),b.stopPropagation(),l.open(mr,[...G(e.view==="diagram",{label:"delete",action:()=>{r.deleteNode(e.id,e.graph)}}),{label:"edit",action:()=>{u.open(e.id,"node")}},...G(e.view==="diagram",{label:"→",action:()=>{e.view==="diagram"&&p.open(e.id,"→",e.graph)}}),...G(e.view==="diagram",{label:V.value?"unlock":"lock",action:()=>{r.data.nodes[e.graph].allocations[e.id].locked=!V.value}}),{label:"log",action:()=>{console.log(e.id,r.data.nodes[e.graph].allocations[e.id])}}],{x:b.x,y:b.y}))}function q(){setTimeout(()=>{S.value=!0},100)}function y(){S.value=!1,m.value=!0,M.value.addEventListener("transitionend",()=>{m.value=!1},{once:!0})}Yt(()=>[e.position.y,e.position.x],()=>{i.nodes[e.id]={...i.nodes[e.id],x:e.position.x,y:e.position.y}}),Re(()=>{Q.observe(M.value)}),gr(()=>{M.value!=null&&Q.unobserve(M.value),delete i.nodes[e.id]});const O=j(()=>{var b,T;if(f.mode==="edit")return(T=(b=o.exactMarker)==null?void 0:b.states)==null?void 0:T[e.id]}),C=j(()=>v.value.type==="image"?-1:1);return(b,T)=>{var D,x;return K(),lt("div",{class:"node-wrapper",style:Qt({"z-index":C.value})},[rt("div",{style:Qt({..._.value,"z-index":C.value})},[O.value==="hide"?(K(),St(Y(Wi),{key:0,class:"marker"})):Mt("",!0),O.value==="default"?(K(),St(Y(xi),{key:1,class:"marker"})):Mt("",!0),O.value==="highlight"?(K(),St(Y(Xi),{key:2,class:"marker"})):Mt("",!0),(K(),St(Yo(I.value),{ref_key:"componentRef",ref:d,id:t.id,class:jt(["node",[E.value,t.view,`mode-${Y(h).mode}`,{"user-active":!Y(a).inactivityShort||!Y(s).playing,edit:Y(f).edit,locked:V.value,paused:!Y(s).playing&&Y(f).mode!=="edit",exact:(x=(D=Y(o).exactMarker)==null?void 0:D.states)==null?void 0:x.hasOwnProperty(t.id),mouseover:S.value,mouseout:m.value}]]),"no-style":_.value,node:v.value,occurances:A.value,position:t.position,onClick:R,onDblclick:Nt(B,["stop"]),onMousedown:P,onContextmenu:W,onMouseenter:q,onMouseout:y},null,40,["id","class","no-style","node","occurances","position"]))],4)],4)}}},bf=qt(wf,[["__scopeId","data-v-6427ae4f"]]);function di(t,e,n,r,i,o,a,s,f){const l=i+a,u=o+s,p=i+f,h=o+f,d=i+a-f,S=o+s-f,m=[[i,S,i,h,i,o],[p,o,d,o,l,o],[l,h,l,S,l,u],[d,u,p,u,i,u]],v=[[p,h,Math.PI,Math.PI*1.5],[d,h,Math.PI*1.5,Math.PI*2],[d,S,0,Math.PI*.5],[p,S,Math.PI*.5,Math.PI]];let _=[];return m.forEach((I,M)=>{const[A,E,V,Q]=I,[R,B,P,G]=v[M];Lf(R,B,f,t,e,n,r).filter(q=>{const y=Mf(Sf(R,B,q[0],q[1]));return y>P&&y<G}).forEach(q=>_.push({point:q,anchor:M*2+1}));const W=Cf(t,e,n,r,A,E,V,Q);W&&_.push({point:W,anchor:M*2})}),_}function Cf(t,e,n,r,i,o,a,s){const f=(s-o)*(n-t)-(a-i)*(r-e),l=(a-i)*(e-o)-(s-o)*(t-i),u=(n-t)*(e-o)-(r-e)*(t-i);if(f===0)return void 0;const p=l/f,h=u/f;if(p>=0&&p<=1&&h>=0&&h<=1)return[t+p*(n-t),e+p*(r-e)]}function Mf(t){return t-Math.PI*2*Math.floor(t/(Math.PI*2))}function Sf(t,e,n,r){return Math.atan2(r-e,n-t)}function Lf(t,e,n,r,i,o,a){var s,f,l,u,p,h,d,S,m=[o-r,a-i],v=[r-t,i-e];return s=m[0]*v[0]+m[1]*v[1],f=2*(m[0]*m[0]+m[1]*m[1]),s*=-2,l=Math.sqrt(s*s-2*f*(v[0]*v[0]+v[1]*v[1]-n*n)),isNaN(l)?[]:(u=(s-l)/f,p=(s+l)/f,d=[],S=[],h=[],u<=1&&u>=0&&(d[0]=r+m[0]*u,d[1]=i+m[1]*u,h[0]=d),p<=1&&p>=0&&(S[0]=r+m[0]*p,S[1]=i+m[1]*p,h[h.length]=S),h)}var Af=4,$f=.001,kf=1e-7,Nf=10,en=11,Ln=1/(en-1),Tf=typeof Float32Array=="function";function Qi(t,e){return 1-3*e+3*t}function ji(t,e){return 3*e-6*t}function Ji(t){return 3*t}function Vn(t,e,n){return((Qi(e,n)*t+ji(e,n))*t+Ji(e))*t}function to(t,e,n){return 3*Qi(e,n)*t*t+2*ji(e,n)*t+Ji(e)}function If(t,e,n,r,i){var o,a,s=0;do a=e+(n-e)/2,o=Vn(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>kf&&++s<Nf);return a}function Ef(t,e,n,r){for(var i=0;i<Af;++i){var o=to(e,n,r);if(o===0)return e;var a=Vn(e,n,r)-t;e-=a/o}return e}function zf(t){return t}var Pf=function(e,n,r,i){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&r===i)return zf;for(var o=Tf?new Float32Array(en):new Array(en),a=0;a<en;++a)o[a]=Vn(a*Ln,e,r);function s(f){for(var l=0,u=1,p=en-1;u!==p&&o[u]<=f;++u)l+=Ln;--u;var h=(f-o[u])/(o[u+1]-o[u]),d=l+h*Ln,S=to(d,e,r);return S>=$f?Ef(f,d,e,r):S===0?d:If(f,l,l+Ln,e,r)}return function(l){return l===0?0:l===1?1:Vn(s(l),n,i)}};const Df=_i(Pf);var Gn={exports:{}};Gn.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",f="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",h="[object Error]",d="[object Function]",S="[object GeneratorFunction]",m="[object Map]",v="[object Number]",_="[object Null]",I="[object Object]",M="[object Promise]",A="[object Proxy]",E="[object RegExp]",V="[object Set]",Q="[object String]",R="[object Symbol]",B="[object Undefined]",P="[object WeakMap]",G="[object ArrayBuffer]",W="[object DataView]",q="[object Float32Array]",y="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",b="[object Int32Array]",T="[object Uint8Array]",D="[object Uint8ClampedArray]",x="[object Uint16Array]",L="[object Uint32Array]",w=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,z={};z[q]=z[y]=z[O]=z[C]=z[b]=z[T]=z[D]=z[x]=z[L]=!0,z[s]=z[f]=z[G]=z[u]=z[W]=z[p]=z[h]=z[d]=z[m]=z[v]=z[I]=z[E]=z[V]=z[Q]=z[P]=!1;var F=typeof je=="object"&&je&&je.Object===Object&&je,H=typeof self=="object"&&self&&self.Object===Object&&self,U=F||H||Function("return this")(),J=e&&!e.nodeType&&e,ft=J&&!0&&t&&!t.nodeType&&t,it=ft&&ft.exports===J,nt=it&&F.process,et=function(){try{return nt&&nt.binding&&nt.binding("util")}catch{}}(),ot=et&&et.isTypedArray;function X(c,g){for(var k=-1,Z=c==null?0:c.length,ht=0,at=[];++k<Z;){var yt=c[k];g(yt,k,c)&&(at[ht++]=yt)}return at}function ut(c,g){for(var k=-1,Z=g.length,ht=c.length;++k<Z;)c[ht+k]=g[k];return c}function tt(c,g){for(var k=-1,Z=c==null?0:c.length;++k<Z;)if(g(c[k],k,c))return!0;return!1}function _t(c,g){for(var k=-1,Z=Array(c);++k<c;)Z[k]=g(k);return Z}function Pt(c){return function(g){return c(g)}}function mt(c,g){return c.has(g)}function $t(c,g){return c==null?void 0:c[g]}function Tt(c){var g=-1,k=Array(c.size);return c.forEach(function(Z,ht){k[++g]=[ht,Z]}),k}function pt(c,g){return function(k){return c(g(k))}}function dt(c){var g=-1,k=Array(c.size);return c.forEach(function(Z){k[++g]=Z}),k}var Lt=Array.prototype,te=Function.prototype,Dt=Object.prototype,xt=U["__core-js_shared__"],Fe=te.toString,Vt=Dt.hasOwnProperty,fn=function(){var c=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),He=Dt.toString,hn=RegExp("^"+Fe.call(Vt).replace(w,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=it?U.Buffer:void 0,qe=U.Symbol,Ve=U.Uint8Array,Ge=Dt.propertyIsEnumerable,dn=Lt.splice,ee=qe?qe.toStringTag:void 0,pn=Object.getOwnPropertySymbols,Kn=bt?bt.isBuffer:void 0,Qn=pt(Object.keys,Object),Ue=$e(U,"DataView"),me=$e(U,"Map"),wt=$e(U,"Promise"),Ot=$e(U,"Set"),Gt=$e(U,"WeakMap"),Bt=$e(Object,"create"),It=we(Ue),fe=we(me),gn=we(wt),Ze=we(Ot),We=we(Gt),Tr=qe?qe.prototype:void 0,jn=Tr?Tr.valueOf:void 0;function _e(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var Z=c[g];this.set(Z[0],Z[1])}}function no(){this.__data__=Bt?Bt(null):{},this.size=0}function ro(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function io(c){var g=this.__data__;if(Bt){var k=g[c];return k===r?void 0:k}return Vt.call(g,c)?g[c]:void 0}function oo(c){var g=this.__data__;return Bt?g[c]!==void 0:Vt.call(g,c)}function ao(c,g){var k=this.__data__;return this.size+=this.has(c)?0:1,k[c]=Bt&&g===void 0?r:g,this}_e.prototype.clear=no,_e.prototype.delete=ro,_e.prototype.get=io,_e.prototype.has=oo,_e.prototype.set=ao;function ae(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var Z=c[g];this.set(Z[0],Z[1])}}function so(){this.__data__=[],this.size=0}function lo(c){var g=this.__data__,k=vn(g,c);if(k<0)return!1;var Z=g.length-1;return k==Z?g.pop():dn.call(g,k,1),--this.size,!0}function uo(c){var g=this.__data__,k=vn(g,c);return k<0?void 0:g[k][1]}function co(c){return vn(this.__data__,c)>-1}function fo(c,g){var k=this.__data__,Z=vn(k,c);return Z<0?(++this.size,k.push([c,g])):k[Z][1]=g,this}ae.prototype.clear=so,ae.prototype.delete=lo,ae.prototype.get=uo,ae.prototype.has=co,ae.prototype.set=fo;function xe(c){var g=-1,k=c==null?0:c.length;for(this.clear();++g<k;){var Z=c[g];this.set(Z[0],Z[1])}}function ho(){this.size=0,this.__data__={hash:new _e,map:new(me||ae),string:new _e}}function po(c){var g=mn(this,c).delete(c);return this.size-=g?1:0,g}function go(c){return mn(this,c).get(c)}function yo(c){return mn(this,c).has(c)}function vo(c,g){var k=mn(this,c),Z=k.size;return k.set(c,g),this.size+=k.size==Z?0:1,this}xe.prototype.clear=ho,xe.prototype.delete=po,xe.prototype.get=go,xe.prototype.has=yo,xe.prototype.set=vo;function yn(c){var g=-1,k=c==null?0:c.length;for(this.__data__=new xe;++g<k;)this.add(c[g])}function mo(c){return this.__data__.set(c,r),this}function _o(c){return this.__data__.has(c)}yn.prototype.add=yn.prototype.push=mo,yn.prototype.has=_o;function he(c){var g=this.__data__=new ae(c);this.size=g.size}function xo(){this.__data__=new ae,this.size=0}function wo(c){var g=this.__data__,k=g.delete(c);return this.size=g.size,k}function bo(c){return this.__data__.get(c)}function Co(c){return this.__data__.has(c)}function Mo(c,g){var k=this.__data__;if(k instanceof ae){var Z=k.__data__;if(!me||Z.length<n-1)return Z.push([c,g]),this.size=++k.size,this;k=this.__data__=new xe(Z)}return k.set(c,g),this.size=k.size,this}he.prototype.clear=xo,he.prototype.delete=wo,he.prototype.get=bo,he.prototype.has=Co,he.prototype.set=Mo;function So(c,g){var k=_n(c),Z=!k&&Fo(c),ht=!k&&!Z&&Jn(c),at=!k&&!Z&&!ht&&Fr(c),yt=k||Z||ht||at,Ct=yt?_t(c.length,String):[],At=Ct.length;for(var gt in c)Vt.call(c,gt)&&!(yt&&(gt=="length"||ht&&(gt=="offset"||gt=="parent")||at&&(gt=="buffer"||gt=="byteLength"||gt=="byteOffset")||Po(gt,At)))&&Ct.push(gt);return Ct}function vn(c,g){for(var k=c.length;k--;)if(Dr(c[k][0],g))return k;return-1}function Lo(c,g,k){var Z=g(c);return _n(c)?Z:ut(Z,k(c))}function Xe(c){return c==null?c===void 0?B:_:ee&&ee in Object(c)?Eo(c):Bo(c)}function Ir(c){return Ye(c)&&Xe(c)==s}function Er(c,g,k,Z,ht){return c===g?!0:c==null||g==null||!Ye(c)&&!Ye(g)?c!==c&&g!==g:Ao(c,g,k,Z,Er,ht)}function Ao(c,g,k,Z,ht,at){var yt=_n(c),Ct=_n(g),At=yt?f:de(c),gt=Ct?f:de(g);At=At==s?I:At,gt=gt==s?I:gt;var Ft=At==I,Wt=gt==I,kt=At==gt;if(kt&&Jn(c)){if(!Jn(g))return!1;yt=!0,Ft=!1}if(kt&&!Ft)return at||(at=new he),yt||Fr(c)?zr(c,g,k,Z,ht,at):To(c,g,At,k,Z,ht,at);if(!(k&i)){var Ut=Ft&&Vt.call(c,"__wrapped__"),Zt=Wt&&Vt.call(g,"__wrapped__");if(Ut||Zt){var pe=Ut?c.value():c,se=Zt?g.value():g;return at||(at=new he),ht(pe,se,k,Z,at)}}return kt?(at||(at=new he),Io(c,g,k,Z,ht,at)):!1}function $o(c){if(!Br(c)||Oo(c))return!1;var g=Or(c)?hn:$;return g.test(we(c))}function ko(c){return Ye(c)&&Rr(c.length)&&!!z[Xe(c)]}function No(c){if(!Ro(c))return Qn(c);var g=[];for(var k in Object(c))Vt.call(c,k)&&k!="constructor"&&g.push(k);return g}function zr(c,g,k,Z,ht,at){var yt=k&i,Ct=c.length,At=g.length;if(Ct!=At&&!(yt&&At>Ct))return!1;var gt=at.get(c);if(gt&&at.get(g))return gt==g;var Ft=-1,Wt=!0,kt=k&o?new yn:void 0;for(at.set(c,g),at.set(g,c);++Ft<Ct;){var Ut=c[Ft],Zt=g[Ft];if(Z)var pe=yt?Z(Zt,Ut,Ft,g,c,at):Z(Ut,Zt,Ft,c,g,at);if(pe!==void 0){if(pe)continue;Wt=!1;break}if(kt){if(!tt(g,function(se,be){if(!mt(kt,be)&&(Ut===se||ht(Ut,se,k,Z,at)))return kt.push(be)})){Wt=!1;break}}else if(!(Ut===Zt||ht(Ut,Zt,k,Z,at))){Wt=!1;break}}return at.delete(c),at.delete(g),Wt}function To(c,g,k,Z,ht,at,yt){switch(k){case W:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case G:return!(c.byteLength!=g.byteLength||!at(new Ve(c),new Ve(g)));case u:case p:case v:return Dr(+c,+g);case h:return c.name==g.name&&c.message==g.message;case E:case Q:return c==g+"";case m:var Ct=Tt;case V:var At=Z&i;if(Ct||(Ct=dt),c.size!=g.size&&!At)return!1;var gt=yt.get(c);if(gt)return gt==g;Z|=o,yt.set(c,g);var Ft=zr(Ct(c),Ct(g),Z,ht,at,yt);return yt.delete(c),Ft;case R:if(jn)return jn.call(c)==jn.call(g)}return!1}function Io(c,g,k,Z,ht,at){var yt=k&i,Ct=Pr(c),At=Ct.length,gt=Pr(g),Ft=gt.length;if(At!=Ft&&!yt)return!1;for(var Wt=At;Wt--;){var kt=Ct[Wt];if(!(yt?kt in g:Vt.call(g,kt)))return!1}var Ut=at.get(c);if(Ut&&at.get(g))return Ut==g;var Zt=!0;at.set(c,g),at.set(g,c);for(var pe=yt;++Wt<At;){kt=Ct[Wt];var se=c[kt],be=g[kt];if(Z)var Hr=yt?Z(be,se,kt,g,c,at):Z(se,be,kt,c,g,at);if(!(Hr===void 0?se===be||ht(se,be,k,Z,at):Hr)){Zt=!1;break}pe||(pe=kt=="constructor")}if(Zt&&!pe){var xn=c.constructor,wn=g.constructor;xn!=wn&&"constructor"in c&&"constructor"in g&&!(typeof xn=="function"&&xn instanceof xn&&typeof wn=="function"&&wn instanceof wn)&&(Zt=!1)}return at.delete(c),at.delete(g),Zt}function Pr(c){return Lo(c,Vo,zo)}function mn(c,g){var k=c.__data__;return Do(g)?k[typeof g=="string"?"string":"hash"]:k.map}function $e(c,g){var k=$t(c,g);return $o(k)?k:void 0}function Eo(c){var g=Vt.call(c,ee),k=c[ee];try{c[ee]=void 0;var Z=!0}catch{}var ht=He.call(c);return Z&&(g?c[ee]=k:delete c[ee]),ht}var zo=pn?function(c){return c==null?[]:(c=Object(c),X(pn(c),function(g){return Ge.call(c,g)}))}:Go,de=Xe;(Ue&&de(new Ue(new ArrayBuffer(1)))!=W||me&&de(new me)!=m||wt&&de(wt.resolve())!=M||Ot&&de(new Ot)!=V||Gt&&de(new Gt)!=P)&&(de=function(c){var g=Xe(c),k=g==I?c.constructor:void 0,Z=k?we(k):"";if(Z)switch(Z){case It:return W;case fe:return m;case gn:return M;case Ze:return V;case We:return P}return g});function Po(c,g){return g=g??a,!!g&&(typeof c=="number"||N.test(c))&&c>-1&&c%1==0&&c<g}function Do(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function Oo(c){return!!fn&&fn in c}function Ro(c){var g=c&&c.constructor,k=typeof g=="function"&&g.prototype||Dt;return c===k}function Bo(c){return He.call(c)}function we(c){if(c!=null){try{return Fe.call(c)}catch{}try{return c+""}catch{}}return""}function Dr(c,g){return c===g||c!==c&&g!==g}var Fo=Ir(function(){return arguments}())?Ir:function(c){return Ye(c)&&Vt.call(c,"callee")&&!Ge.call(c,"callee")},_n=Array.isArray;function Ho(c){return c!=null&&Rr(c.length)&&!Or(c)}var Jn=Kn||Uo;function qo(c,g){return Er(c,g)}function Or(c){if(!Br(c))return!1;var g=Xe(c);return g==d||g==S||g==l||g==A}function Rr(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=a}function Br(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function Ye(c){return c!=null&&typeof c=="object"}var Fr=ot?Pt(ot):ko;function Vo(c){return Ho(c)?So(c):No(c)}function Go(){return[]}function Uo(){return!1}t.exports=qo})(Gn,Gn.exports);var Of=Gn.exports;const Rf=_i(Of),rn=+getComputedStyle(document.documentElement).getPropertyValue("--transition").replace(/(.+)ms/,(t,e)=>e).replace(/(.+)s/,(t,e)=>e*1e3),dr=+getComputedStyle(document.documentElement).getPropertyValue("--spacing").replace(/px$/,""),Bf={__name:"BaseInterpolate",props:{props:Object,duration:{type:Number,default:rn},delay:{type:Number,default:0}},setup(t){const e=t,n=st(e.props);let r=null;const i=Df(.25,.1,.25,1);let o=Bn(null,e.props);Yt(()=>e.props,(s,f)=>{Rf(s,f)||(o=Bn(n.value,e.props),r=null,requestAnimationFrame(a))},{deep:!1});function a(s){if(e.duration===0)return n.value={...e.props};r===null&&(r=s);const f=Math.max(Math.min((s-r-e.delay)/e.duration,1),0);n.value={...o(i(f))},f<1&&requestAnimationFrame(a)}return(s,f)=>gi(s.$slots,"default",Ko(Qo(n.value)))}};var eo={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.pathDataLength=n()})(je,function(){var e={};const{PI:n,sin:r,cos:i,acos:o,abs:a,sqrt:s,log:f,tan:l}=Math,u={wa12:[[.24914704581340288,.12523340851146894],[.23349253653835458,.3678314989981802],[.20316742672306584,.5873179542866175],[.16007832854334633,.7699026741943047],[.10693932599531818,.9041172563704748],[.04717533638650846,.9815606342467192]],wa24:[[.1279381953467522,.0640568928626056],[.1258374563468283,.1911188674736163],[.1216704729278034,.3150426796961634],[.1155056680537256,.4337935076260451],[.1074442701159656,.5454214713888396],[.0976186521041139,.6480936519369755],[.0861901615319533,.7401241915785544],[.0733464814110803,.820001985973903],[.0592985849154368,.8864155270044011],[.0442774388174198,.9382745520027328],[.0285313886289337,.9747285559713095],[.0123412297999872,.9951872199970213]]};function p(M,A=.5){const E=(B,P,G)=>({x:(P.x-B.x)*G+B.x,y:(P.y-B.y)*G+B.y}),V=(B,P,G,W,q)=>{let y=1-q;return{x:y**3*B.x+3*y**2*q*P.x+3*y*q**2*G.x+q**3*W.x,y:y**3*B.y+3*y**2*q*P.y+3*y*q**2*G.y+q**3*W.y}},Q=(B,P,G,W)=>{let q=1-W;return{x:q*q*B.x+2*q*W*P.x+W**2*G.x,y:q*q*B.y+2*q*W*P.y+W**2*G.y}};let R;return M.length===4?R=V(M[0],M[1],M[2],M[3],A):M.length===3?R=Q(M[0],M[1],M[2],A):R=E(M[0],M[1],A),R}function h(M,A){this.totalLength=M||0,this.segments=A||[]}h.prototype.getPointAtLength=function(M=0){let{segments:A,totalLength:E}=this,V=!1,Q={x:0,y:0},R=0;if(M===0)return A[0].points[0];if(+M.toFixed(3)==+E.toFixed(3)){let{points:B}=A[A.length-1];return Q=B[B.length-1],Q}for(let B=0;B<A.length&&!V;B++){let P=A[B],{type:G,lengths:W,points:q,total:y}=P,O=W[W.length-1],C=1/(W.length-1);if(O>M){V=!0;let b=!1,T;switch(G){case"L":T=O-M,R=1-1/y*T,Q=p(q,R);break;case"A":T=O-M,R=1-1/y*T;let{cx:D,cy:x,deltaAngle:L}=P.points[1],w=-L*R,$=Math.cos(w),N=Math.sin(w);p0=P.points[0],Q={x:$*(p0.x-D)+N*(p0.y-x)+D,y:$*(p0.y-x)-N*(p0.x-D)+x};break;case"C":case"Q":let z=v([q[0],q[1]])+v([q[1],q[2]]),F=G==="C"?v([q[2],q[3]]):0,H=v([q[0],q[q.length-1]]);if(z+F===H)T=O-M,R=1-1/y*T,Q=R<=1?p([q[0],q[2]],R):q[q.length-1];else for(let U=0;U<W.length&&!b;U++){let J=W[U],ft=U>0?W[U-1]:W[U];if(J>M){let it=C*U,nt=J-ft,et=J-M,ot=1/nt*et;R=it-C*ot,b=!0,Q=p(q,R)}}break}Q.index=P.index,Q.t=R}}return Q};function d(M,A="medium",E=!1){const V=b=>{let T=0;for(let D=0;D<b.length;D++){let x=b[D].x,L=b[D===b.length-1?0:D+1].y,w=b[D===b.length-1?0:D+1].x,$=b[D].y;T+=x*L*.5-w*$*.5}return Math.abs(T)<.1};let Q=A==="high"?4:A==="medium"?2:1,R=A==="high",B=A==="medium"?24:12,P=[12,24,36,48,60,64,72,96],G=A==="low"?10:12,W=A==="low"?16:A==="medium"?24:36,q=Array.isArray(M)?M:_(M,{arcAccuracy:Q}),y=0,O=q[0],C={totalLength:0,segments:[]};for(let b=1;b<q.length;b++){let D=q[b-1].values,x=D.length,L={x:D[x-2],y:D[x-1]},w=q[b],{type:$,values:N}=w,z=N.length,F={x:N[z-2],y:N[z-1]},H,U,J,ft,it={lengths:[],points:[],index:b,total:0,type:$};switch($){case"M":O=q[b],H=0;break;case"Z":case"z":case"L":$.toLowerCase()==="z"&&(F={x:O.values[0],y:O.values[1]},it.type="L"),H=v([L,F]),it.points.push(L,F);break;case"A":F={x:w.values[5],y:w.values[6]};let nt=w.values[3],et=w.values[4],ot=I(L.x,L.y,w.values[0],w.values[1],w.values[2],nt,et,F.x,F.y),{cx:X,cy:ut,rx:tt,ry:_t,startAngle:Pt,deltaAngle:mt}=ot;H=2*Math.PI*tt*(1/360*Math.abs(mt*180/n)),it.points=[L,{startAngle:Pt,deltaAngle:mt,cx:X,cy:ut},F];break;case"C":case"Q":it.lengths.push(y),U={x:N[0],y:N[1]},J=$==="C"?{x:N[2],y:N[3]}:U;let $t=$==="C"?[L,U,J,F]:[L,U,F],Tt=$==="Q"?G:W,pt=V($t);if(pt){$t=[L,F],H=v($t),it.type="L",it.points.push(L,F);break}else if(H=R?v($t,1,P[0]):v($t,1,B),$==="C"&&R){let dt,Lt=!1,te=.05,Dt=0;for(let xt=1;xt<P.length&&!Lt;xt++)lgNew=P[xt],dt=v($t,1,lgNew),Dt=a(dt-H),Dt<te||xt===P.length-1?(B=P[xt-1],Lt=!0):H=dt}if(!E&&!pt){for(let dt=1;dt<Tt;dt++)ft=1/Tt*dt,it.lengths.push(v($t,ft,B)+y);it.points=$t}break;default:H=0;break}E||(it.lengths.push(H+y),it.total=H),y+=H,$!=="M"&&C.segments.push(it),C.totalLength=y}return E?y:new h(C.totalLength,C.segments)}function S(M,A=0){let E=_(M);return m(E,A)}function m(M,A=0){return d(M,A,!0)}function v(M,A=1,E=0){const V=(P,G)=>s((G.x-P.x)*(G.x-P.x)+(G.y-P.y)*(G.y-P.y)),Q=(P,G,W,q,y,O)=>{if(y===0)return 0;const C=(L,w=-1,$=1)=>{let N=[],z,F,H,U,J,ft,it,nt;const et=L+1>>1;H=.5*($+w),U=.5*($-w);for(let ot=et-1;ot>=0;ot--){F=i(n*(ot+.75)/(L+.5));do{nt=1,it=0;for(let X=0;X<L;X++)ft=it,it=nt,nt=((2*X+1)*F*it-X*ft)/(X+1);J=L*(F*nt-it)/(F*F-1),z=F,F=z-nt/J}while(a(F-z)>1e-14);N.push([2*U/((1-F*F)*J*J),H+U*F])}return N},b=(L,w,$,N,z)=>{let F=-3*w+9*$-9*N+3*z,H=L*F+6*w-12*$+6*N;return L*H-3*w+3*$};y=y>1?1:y<0?0:y;let T=y/2;u[O]||(u[O]=C(O));const D=u[O];let x=0;for(let L=0,w=D.length;L<w;L++){let[$,N]=[D[L][0],D[L][1]],z=T*N,F=z+T,H=-z+T,U=b(H,P.x,G.x,W.x,q.x),J=b(H,P.y,G.y,W.y,q.y),ft=U*U+J*J,it=b(F,P.x,G.x,W.x,q.x),nt=b(F,P.y,G.y,W.y,q.y),et=it*it+nt*nt;x+=$*s(ft)+$*s(et)}return T*x},R=(P,G,W,q,y=!1)=>{if(q===0)return 0;if(y){let U=V(P,G)+V(G,W),J=V(P,W);if(U===J)return J}let O,C,b,T,D,x,L,w,$;w=G.x*2,$=G.y*2,T=P.x-w+W.x,L=P.y-$+W.y,D=w-2*P.x,x=$-2*P.y,O=4*(T*T+L*L),C=4*(T*D+L*x),b=D*D+x*x;const N=C/(2*O),z=b/O,F=q+N,H=z-N**2;return s(O)/2*(F*s(F**2+H)-N*s(N**2+H)+H*f((F+s(F**2+H))/(N+s(N**2+H))))};let B;return M.length===4?B=Q(M[0],M[1],M[2],M[3],A,E):M.length===3?B=R(M[0],M[1],M[2],A):B=V(M[0],M[1]),B}function _(M,A={}){M=M.replace(/[\n\r\t|,]/g," ").trim().replace(/(\d)-/g,"$1 -").replace(/(\.)(?=(\d+\.\d+)+)(\d+)/g,"$1$3 ");let E=[],V=/([mlcqazvhst])([^mlcqazvhst]*)/gi,Q=M.match(V),R={m:2,a:7,c:6,h:1,l:2,q:4,s:4,t:2,v:1,z:0};A={toAbsolute:!0,toLonghands:!0,arcToCubic:!1,arcAccuracy:4,...A};let{toAbsolute:B,toLonghands:P,arcToCubic:G,arcAccuracy:W}=A,q=/[a]/gi.test(M),y=P?/[vhst]/gi.test(M):!1,O=B?/[lcqamts]/g.test(M.substring(1,M.length-1)):!1,C,b,T,D,x;for(let w=0;w<Q.length;w++){let $=Q[w],N=$.substring(0,1),z=N.toLowerCase(),F=N.toUpperCase(),H=N===z,U=R[z],J=$.substring(1,$.length).trim().split(" ").filter(Boolean);if(z==="a"&&J.length!=R.a){let et=0,ot=[];for(let X=0;X<J.length;X++){let ut=J[X];if(et>=U&&(et=0),(et===3||et===4)&&ut.length>1){let tt=et===3?ut.substring(0,1):"",_t=et===3?ut.substring(1,2):ut.substring(0,1),Pt=et===3?ut.substring(2):ut.substring(1),mt=[tt,_t,Pt].filter(Boolean);ot.push(mt),et+=mt.length}else ot.push(ut),et++}J=ot.flat().filter(Boolean)}J=J.map(Number);let ft=J.length>U,it=ft?J.slice(0,U):J,nt=[{type:N,values:it}];if(ft){let et=z==="m"?H?"l":"L":N;for(let ot=U;ot<J.length;ot+=U){let X=J.slice(ot,ot+U);nt.push({type:et,values:X})}}if(!O&&!y&&!q)nt.forEach(et=>{E.push(et)});else{w===0&&(C=J[0],b=J[1],T=C,D=b,x={x:J[0],y:J[1]});let et=nt[0].type;F=et.toUpperCase(),H=!!(et.toLowerCase()===et&&E.length);for(let ot=0;ot<nt.length;ot++){let X=nt[ot],ut=X.type,tt=X.values,_t=tt.length,mt=(nt[ot-1]?nt[ot-1]:w>0&&E[E.length-1]?E[E.length-1]:nt[ot]).values,$t=mt.length;if(H=nt.length>1?ut.toLowerCase()===ut&&E.length:H,H)switch(X.type=nt.length>1?ut.toUpperCase():F,z){case"a":X.values=[tt[0],tt[1],tt[2],tt[3],tt[4],tt[5]+C,tt[6]+b];break;case"h":case"v":X.values=ut==="h"?[tt[0]+C]:[tt[0]+b];break;case"m":case"l":case"t":ut==="m"&&(x={x:tt[0]+C,y:tt[1]+b}),X.values=[tt[0]+C,tt[1]+b];break;case"c":X.values=[tt[0]+C,tt[1]+b,tt[2]+C,tt[3]+b,tt[4]+C,tt[5]+b];break;case"q":case"s":X.values=[tt[0]+C,tt[1]+b,tt[2]+C,tt[3]+b];break;case"z":case"Z":T=x.x,D=x.y;break}else C=0,b=0;if(y){let pt,dt,Lt,te,Dt,xt;X.type==="H"||X.type==="V"?(X.values=X.type==="H"?[X.values[0],D]:[T,X.values[0]],X.type="L"):(X.type==="T"||X.type==="S")&&([pt,dt]=[mt[0],mt[1]],[Dt,xt]=$t>2?[mt[2],mt[3]]:[mt[0],mt[1]],Lt=X.type==="T"?T*2-pt:T*2-Dt,te=X.type==="T"?D*2-dt:D*2-xt,X.values=[Lt,te,X.values].flat(),X.type=X.type==="T"?"Q":"C")}let Tt=!1;q&&X.type==="A"?(p0={x:T,y:D},z==="a"&&(Tt=X.values[0]!==X.values[1],Tt||G?L(p0,X.values,W).forEach(dt=>{E.push(dt)}):E.push(X))):E.push(X),T=_t>1?tt[_t-2]+C:z==="h"?tt[0]+C:T,D=_t>1?tt[_t-1]+b:z==="v"?tt[0]+b:D,C=T,b=D}}}return E[0].type="M",E;function L(w,$,N=1){const z=n*2;let[F,H,U,J,ft,it,nt]=$;if(F===0||H===0)return[];let et=U?U*z/360:0,ot=et?r(et):0,X=et?i(et):1,ut=X*(w.x-it)/2+ot*(w.y-nt)/2,tt=-ot*(w.x-it)/2+X*(w.y-nt)/2;if(ut===0&&tt===0)return[];F=a(F),H=a(H);let _t=ut*ut/(F*F)+tt*tt/(H*H);if(_t>1){let wt=s(_t);F*=wt,H*=wt}let Pt=F*F,mt=F===H?Pt:H*H,$t=ut*ut,Tt=tt*tt,pt=Pt*mt-Pt*Tt-mt*$t;pt<=0?pt=0:(pt/=Pt*Tt+mt*$t,pt=s(pt)*(J===ft?-1:1));let dt=pt?pt*F/H*tt:0,Lt=pt?pt*-H/F*ut:0,te=X*dt-ot*Lt+(w.x+it)/2,Dt=ot*dt+X*Lt+(w.y+nt)/2,xt=(ut-dt)/F,Fe=(tt-Lt)/H,Vt=(-ut-dt)/F,fn=(-tt-Lt)/H;const He=(wt,Ot,Gt,Bt)=>{let It=+(wt*Gt+Ot*Bt).toFixed(9);return It===1||It===-1?It===1?0:n:(It=It>1?1:It<-1?-1:It,(wt*Bt-Ot*Gt<0?-1:1)*o(It))};let hn=He(1,0,xt,Fe),bt=He(xt,Fe,Vt,fn);ft===0&&bt>0?bt-=n*2:ft===1&&bt<0&&(bt+=n*2);let Ve=+(a(bt)/(z/4)).toFixed(0)*N;bt/=Ve;let Ge=[];const dn=1.5707963267948966,ee=.551785;let pn=bt===dn?ee:bt===-dn?-ee:4/3*l(bt/4),Kn=bt?i(bt):1,Qn=bt?r(bt):0,Ue="C";const me=(wt,Ot,Gt,Bt,It)=>{let fe=wt!=Ot?i(wt):Bt,gn=wt!=Ot?r(wt):It,Ze=i(wt+Ot),We=r(wt+Ot);return[{x:fe-gn*Gt,y:gn+fe*Gt},{x:Ze+We*Gt,y:We-Ze*Gt},{x:Ze,y:We}]};for(let wt=0;wt<Ve;wt++){let Ot={type:Ue,values:[]};me(hn,bt,pn,Kn,Qn).forEach(Bt=>{let It=Bt.x*F,fe=Bt.y*H;Ot.values.push(X*It-ot*fe+te,ot*It+X*fe+Dt)}),Ge.push(Ot),hn+=bt}return Ge}}function I(M,A,E,V,Q,R,B,P,G){const W=(Tt,pt,dt,Lt)=>{let te=Tt*dt+pt*Lt,Dt=Math.sqrt((Tt*Tt+pt*pt)*(dt*dt+Lt*Lt)),xt=Math.acos(te/Dt);return Tt*Lt-pt*dt<0&&(xt=-xt),xt};let q=+Q*Math.PI/180,y,O,C,b,T,x=Math.PI*2;if(E<0&&(E=-E),V<0&&(V=-V),E==0||V==0)throw Error("rx and ry can not be 0");let L=Math.sin(q),w=Math.cos(q),$=(M-P)/2,N=(A-G)/2,z=(M+P)/2,F=(A+G)/2,H=w*$+L*N,U=w*N-L*$,J=H*H/(E*E)+U*U/(V*V);J>1&&(E=E*Math.sqrt(J),V=V*Math.sqrt(J));let ft=E*V,it=E*U,nt=V*H,et=it*it+nt*nt;et||console.log("start point can not be same as end point");let ot=Math.sqrt(Math.abs((ft*ft-et)/et));R==B&&(ot=-ot);let X=ot*it/V,ut=-ot*nt/E;y=w*X-L*ut+z,O=L*X+w*ut+F;let tt=(H-X)/E,_t=(H+X)/E,Pt=(U-ut)/V,mt=(U+ut)/V;return C=W(1,0,tt,Pt),b=W(tt,Pt,-_t,-mt),b>x?b-=x:b<0&&(b+=x),(B==!1||B==0)&&(b-=x),T=C+b,T>x?T-=x:T<0&&(T+=x),{cx:y,cy:O,rx:E,ry:V,startAngle:C,deltaAngle:b,endAngle:T,clockwise:B==!0||B==1}}return e.getPathLengthLookup=d,e.getPathLengthFromD=S,e.getPathDataLength=m,e.getLength=v,e.parsePathDataNormalized=_,e.svgArcToCenterParam=I,e})})(eo);var rr=eo.exports;const Ff=["id"],Hf=["id"],qf=["d"],Vf=["d","marker-end","marker-start"],Gf=["x","y"],Uf=["x","y"],Zf={__name:"GraphEdge",props:{edge:Object,view:String},setup(t){const e=Be(),n=Nr(),r=yr(),i=Oe(),o=ie(),a=ve(),s=mi(),f=Un(),l=Pe(),u=t,p=st(null),h=st(!1),d=st(!1),S=j(()=>l.params.type!=="graph"),m=j(()=>o.data.nodes[u.edge.nodes[0]].type==="graph"&&o.data.nodes[u.edge.nodes[1]].type==="graph"),v=j(()=>e.nodes[u.edge.nodes[0]]),_=j(()=>e.nodes[u.edge.nodes[1]]),I=j(()=>S.value&&l.params.id===u.edge.nodes[0]),M=j(()=>S.value&&l.params.id===u.edge.nodes[1]),A=j(()=>u.edge.graph!==o.storyId||S.value&&!u.edge.nodes.includes(l.params.id)),E=j(()=>v.value==null||_.value==null||S.value&&!u.edge.nodes.includes(l.params.id)),V=j(()=>{var $;const w=($=o.data.nodes[u.edge.graph])==null?void 0:$.color;return{"--graph-accent":w?`var(--${w})`:null}}),Q=j(()=>n.inheritStateFromNodes(u.edge.nodes)),R=j(()=>{if(v.value==null&&_.value==null)return;const w=v.value??D(_.value),$=_.value??D(v.value),N=dr,z=dr,F=w.width?w.width+N+N*I.value:0,H=w.height?w.height+N+N*I.value*2:0,U=$.width?$.width+N+N*M.value:0,J=$.height?$.height+N+N*M.value*2:0,ft=di(w.x,w.y,$.x,$.y,w.x-F/2,w.y-H/2,F,H,Math.min(z,H/2-.1))[0],it=di(w.x,w.y,$.x,$.y,$.x-U/2,$.y-J/2,U,J,Math.min(z,J/2-.1))[0];if(ft==null||it==null)return;const nt={x:ft.point[0]+e.offset.x,y:ft.point[1]+e.offset.y},et={x:it.point[0]+e.offset.x,y:it.point[1]+e.offset.y};if(_.value==null){let ut=rr.getPathLengthLookup(`M${nt.x},${nt.y} L${et.x},${et.y}`);const tt=ut.getPointAtLength(6),_t=ut.getPointAtLength(3);return[nt,_t,_t,tt]}if(v.value==null){let ut=rr.getPathLengthLookup(`M${et.x},${et.y} L${nt.x},${nt.y}`);const tt=ut.getPointAtLength(6),_t=ut.getPointAtLength(3);return[tt,_t,_t,et]}const ot={x:(nt.x+et.x)/2,y:(nt.y+et.y)/2};if(S.value)return[nt,ot,ot,et];const X=[{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}];return[nt,{x:nt.x+X[ft.anchor].x*100,y:nt.y+X[ft.anchor].y*100},{x:et.x+X[it.anchor].x*100,y:et.y+X[it.anchor].y*100},et]}),B=j(()=>{if(R.value!=null)return`M${R.value.map((w,$)=>`${$===1?"C":""}${w.x},${w.y}`).join(" ")}`}),P=j(()=>{if(B.value==null)return[];let w=rr.getPathLengthLookup(B.value),$=w.totalLength;return w.getPointAtLength($/2)}),G=j(()=>`${u.edge.nodes.join("-")}-${u.edge.graph}`),W=j(()=>`url('#marker-${G.value}')`),q=j(()=>`url('#marker-${G.value}-alt')`),y=j(()=>(u.edge.arrow==="→"||u.edge.arrow==="↔")&&W.value),O=j(()=>(u.edge.arrow==="←"||u.edge.arrow==="↔")&&q.value);function C(w){if(!w.metaKey)return;w.stopPropagation(),w.preventDefault();const $=[null,"→","←","↔"],N=Math.max($.indexOf(u.edge.arrow),0);o.data.edges.find(z=>z.id===u.edge.id).arrow=$[(N+1)%$.length]}function b(w){!a.edit||w.metaKey||s.open(u.edge.id,"edge")}function T(w){a.edit&&(w.preventDefault(),w.stopPropagation(),f.open(mr,[{label:"delete",action:()=>{o.data.edges=o.data.edges.filter($=>$.id!==u.edge.id)}},{label:"edit",action:()=>{s.open(u.edge.id,"edge")}}],{x:w.x,y:w.y}))}function D(w,$=500){const N=Math.random()*Math.PI*2;return{x:Math.cos(N)*$+w.x,y:Math.sin(N)*$+w.y}}function x(){setTimeout(()=>{h.value=!0},0)}function L(){d.value=!0,p.value.addEventListener("transitionend",()=>{d.value=!1})}return(w,$)=>R.value!=null&&!(m.value&&A.value)?(K(),lt("g",{key:0,class:jt(["edge",[Q.value,t.view,{"user-active":!Y(r).inactivityShort||!Y(i).playing,secondary:A.value,tertiary:E.value,paused:!Y(i).playing&&Y(a).mode!=="edit",mouseover:h.value,mouseout:d.value}]]),ref_key:"edgeElement",ref:p,style:Qt(V.value),onMouseout:L},[rt("defs",null,[rt("marker",{id:`marker-${G.value}`,markerWidth:"10",markerHeight:"20",refX:"10",refY:"10",orient:"auto"},$[0]||($[0]=[rt("path",{d:"M2,6.5 L10,10 L2,13.5"},null,-1)]),8,Ff),rt("marker",{id:`marker-${G.value}-alt`,markerWidth:"10",markerHeight:"20",refX:"00",refY:"10",orient:"auto"},$[1]||($[1]=[rt("path",{d:"M8,6.5 L0,10 L8,13.5"},null,-1)]),8,Hf)]),ct(Bf,{props:{d:B.value,...P.value},delay:0,duration:Y(a).edit?0:Y(rn)},{default:vt(N=>[Y(a).edit?(K(),lt("path",{key:0,class:"edit",d:N.d,onDblclick:Nt(b,["stop"]),onContextmenu:T,onClick:C,onXMouseover:x,onXMouseout:L},null,40,qf)):Mt("",!0),rt("path",{d:N.d,"marker-end":y.value,"marker-start":O.value,class:jt({dashed:t.edge.classRelationship})},null,10,Vf),E.value?Mt("",!0):(K(),lt(on,{key:1},[rt("text",{class:jt(["shadow",{edit:Y(a).edit}]),x:N.x,y:N.y,onDblclick:Nt(b,["stop"]),onContextmenu:T,onClick:C,onXMouseover:x,onXMouseout:L},[ct(En,{text:t.edge.label},null,8,["text"])],42,Gf),rt("text",{x:N.x,y:N.y},[ct(En,{text:t.edge.label},null,8,["text"])],8,Uf)],64))]),_:1},8,["props","duration"])],38)):Mt("",!0)}},Wf=qt(Zf,[["__scopeId","data-v-f78e5cbf"]]),An={__name:"ContextMenuSearch",props:{context:{type:Object,default:()=>({nodeType:"entity"})}},setup(t){const e=ie(),n=Un(),r=Be();function i(o){e.data.nodes[e.nodeId].allocations==null&&(e.data.nodes[e.nodeId].allocations={}),e.data.nodes[e.nodeId].allocations[o]={x:(n.offset.x-r.transform.x)/r.transform.k,y:(n.offset.y-r.transform.y)/r.transform.k}}return(o,a)=>(K(),St(jo,{onSelectItem:i,context:t.context},null,8,["context"]))}},Xf=["d"],Yf={__name:"TheGraph",setup(t){const e=Pe(),n=vi(),r=ie();Jo();const i=Nr(),o=yr(),a=Oe(),s=Be(),f=ve(),l=Un(),u=vr(),p=st([]),h=st(null),d=st(null),S=st(null),m=[.1,1],v=st(null),_=j(()=>e.params.id),I=st(r.data.nodes[_.value]),M=j(()=>e.params.type==="graph"?"diagram":"network"),A=j(()=>`translate(${s.transform.x}px, ${s.transform.y}px) scale(${s.transform.k})`),E=j(()=>{if(p.value==null)return;if(i.bounds!=null)return{x1:i.bounds.x1+s.offset.x,y1:i.bounds.y1+s.offset.y,x2:i.bounds.x2+s.offset.x,y2:i.bounds.y2+s.offset.y};const x=Object.values(p.value),L=x.map(({x:z})=>z),w=x.map(({y:z})=>z),$=200,N=100;return{x1:Math.min(...L)-$+s.offset.x,y1:Math.min(...w)-N+s.offset.y,x2:Math.max(...L)+$+s.offset.x,y2:Math.max(...w)+N+s.offset.y}}),V=j(()=>{const x=r.data.edges.filter(L=>r.data.nodes[L.nodes[0]]!=null&&r.data.nodes[L.nodes[1]]!=null);if(M.value==="network"){const L=r.data.nodes[_.value].class;L!=null&&x.push({id:`class-${[_.value,L].join("-")}`,nodes:[_.value,L],arrow:"→",classRelationship:!0}),r.nodes.filter(w=>w.class===_.value).forEach(w=>{x.push({id:`class-${[w.id,_.value].join("-")}`,nodes:[w.id,_.value],arrow:"→",classRelationship:!0})})}return x}),Q=j(()=>Object.keys(p.value??{}).sort()),R=j(()=>{if(I.value.color!=null)return{"--graph-accent":`var(--${I.value.color})`}}),B=j(()=>{var N;if((((N=i.exactMarker)==null?void 0:N.bounds)==null&&v.value)==null)return;const{x1:x,y1:L,x2:w,y2:$}=v.value||i.exactMarker.bounds;return`M${x+s.offset.x},${L+s.offset.y} L${w+s.offset.x},${L+s.offset.y} L${w+s.offset.x},${$+s.offset.y} L${x+s.offset.x},${$+s.offset.y} Z`});Yt([_,()=>r.data],([x],[L])=>{I.value=r.data.nodes[x],P(rn,L)}),Yt(E,()=>{o.inactivityShort&&W(E.value,rn)}),Yt(()=>o.inactivityShort,()=>{a.playing&&W(E.value,rn)}),Yt(()=>o.inactivityLong,()=>{a.playing&&e.name==="graph"&&e.params.type!=="graph"&&a.graphId!=null&&n.push({name:"graph",params:{type:"graph",id:a.graphId}})}),Re(()=>{d.value=ge(h.value),S.value=Ju().scaleExtent(m).on("zoom",x=>{s.transform=x.transform}).filter(x=>{if(u.mode!=="display-frame")return Te(()=>o.registerActivity()),(x.button===0||x.touches!=null)&&!l.show}),d.value.call(S.value),P(0),q.observe(h.value)}),gr(()=>{h.value!=null&&q.unobserve(h.value)});function P(x,L){if(I.value.type==="graph"){if(p.value=I.value.allocations,L!=null){const w=r.data.nodes[L].type==="graph"?G(r.data.nodes[L].allocations):{x:0,y:0},$=r.data.nodes[L].type==="graph"||p.value[L]==null?G(p.value):p.value[L];s.offset.x=s.offset.x+w.x-$.x,s.offset.y=s.offset.y+w.y-$.y}W(E.value,x)}else p.value=Ic(_.value),W(E.value,x,s.offset)}function G(x){const L=Object.values(x),w=L.map(({x:U})=>U),$=L.map(({y:U})=>U),N=Math.min(...w),z=Math.max(...w),F=Math.min(...$),H=Math.max(...$);return{x:(N+z)/2,y:(F+H)/2}}function W(x,L=0,w){(x==null||x.x1===1/0||isNaN(x.x1))&&(x={x1:-innerWidth/2,x2:innerWidth/2,y1:-innerHeight/2,y2:innerHeight/2});const $={x:x.x2-x.x1,y:x.y2-x.y1},N=h.value.getBoundingClientRect(),z=N.width/$.x,F=(N.height-dr*2.7)/$.y,H=Math.min(z,F,m[1]),U=x.x1+$.x/2,J=x.y1+$.y/2;d.value.transition().duration(L).call(S.value.transform,Ar.translate(N.width/2,N.height/2).scale(H).translate(-U,-J))}const q=new ResizeObserver(x=>{for(const L of x)L.contentRect&&W(E.value,0)});function y(x){!f.edit||M.value!=="diagram"||(x.preventDefault(),l.open(mr,[{label:"add",action:L=>{L.stopPropagation(),l.open(An)}},{label:"log",action:()=>{console.log(s.transform,l.offset)}}],{x:x.x,y:x.y}))}function O(x){if(!(!f.edit||M.value!=="diagram"))switch(["add-entity","add-story","add-image"].includes(u.mode)&&x.stopPropagation(),u.mode){case"add-entity":l.open(An,{nodeType:"entity"},{x:x.x,y:x.y}),u.resetMode();break;case"add-story":l.open(An,{nodeType:"graph"},{x:x.x,y:x.y}),u.resetMode();break;case"add-image":l.open(An,{nodeType:"image"},{x:x.x,y:x.y}),u.resetMode();break}}function C(x){if(u.mode==="display-frame"){x.preventDefault(),x.stopPropagation();const L=D(x);v.value={x1:L.x-s.offset.x,y1:L.y-s.offset.y,x2:L.x-s.offset.x,y2:L.y-s.offset.y};const w=new AbortController,$=function(){console.log("reset"),w.abort(),v.value=null};window.addEventListener("keydown",N=>{N.key==="Escape"&&$()},{signal:w.signal}),window.addEventListener("mousemove",N=>{const{x:z,y:F}=D(N);v.value.x2=z-s.offset.x,v.value.y2=F-s.offset.y},{signal:w.signal}),window.addEventListener("mouseup",()=>{u.setBounds(v.value,_.value),$(),u.resetMode()},{signal:w.signal})}}function b(x){if(x.preventDefault(),!f.edit||M.value!=="diagram")return;const L=Gr(x.dataTransfer.getData("text/uri-list"));if(L){const $=r.nodes.find(z=>z.file===Gr(L));if($!=null)return T($.id,x.x,x.y);if(/(.png|.jpe?g|.gif|.webp)$/i.test(L)){const z=crypto.randomUUID(),F={type:"image",file:L,label:{universal:L.replace(/[^:]*:\/?\/?/,"").replace(/\.[^.]+$/,"")}};r.data.nodes[z]=F,T(z,x.x,x.y)}}else for(let $=0;$<x.dataTransfer.files.length;$++){console.log($);const N=x.dataTransfer.files[$];if(N.type.match(/image.*/)){var w=new FileReader;w.addEventListener("load",()=>{try{const z=`${r.data.config.defaultShorthand}:${N.name}`;sessionStorage.setItem(z,w.result);const F=crypto.randomUUID(),H={type:"image",file:`${r.data.config.defaultShorthand}:${N.name}`,label:{universal:L.replace(/[^:]*:\/?\/?/,"").replace(/\.[^.]+$/,"")}};r.data.nodes[F]=H,T(F,x.x,x.y)}catch{alert("file size to large")}},!1),w.readAsDataURL(N)}}}function T(x,L,w){r.data.nodes[r.nodeId].allocations[x]=D({x:L,y:w})}function D(x){return{x:(x.x-s.transform.x)/s.transform.k,y:(x.y-s.transform.y)/s.transform.k}}return(x,L)=>(K(),lt("main",{class:jt(["graph",[`mode-${Y(u).mode}`,{initializing:Y(e).meta.initializeView}]]),ref_key:"zoomElement",ref:h,style:Qt(R.value),onContextmenu:y,onClick:O,onMousedown:C,onDrop:b,onDragover:L[0]||(L[0]=Nt(()=>{},["prevent"])),onDragenter:L[1]||(L[1]=Nt(()=>{},["prevent"]))},[rt("div",{class:"nodes",style:Qt({transform:A.value})},[ct(Vr,{name:"nodes"},{default:vt(()=>[(K(!0),lt(on,null,zn(Q.value,w=>(K(),St(bf,{key:w,id:w,position:p.value[w],view:M.value,graph:M.value==="diagram"&&_.value},null,8,["id","position","view","graph"]))),128))]),_:1})],4),(K(),lt("svg",null,[rt("g",{style:Qt({transform:A.value})},[ct(Vr,{name:"edges"},{default:vt(()=>[(K(!0),lt(on,null,zn(V.value,w=>(K(),St(Wf,{key:w.id,edge:w,view:M.value},null,8,["edge","view"]))),128))]),_:1}),Y(f).edit&&B.value?(K(),lt("path",{key:0,d:B.value,class:"display-bounds"},null,8,Xf)):Mt("",!0)],4)]))],38))}},Kf=qt(Yf,[["__scopeId","data-v-d1afb713"]]),Qf={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function jf(t,e){return K(),lt("svg",Qf,e[0]||(e[0]=[rt("path",{d:"M18.3994816,13.8517704 L28.7074921,22.4660712 C29.1312774,22.8202243 29.1877255,23.450868 28.8335723,23.8746534 C28.6860759,24.0511499 28.4822444,24.1714042 28.2564291,24.2151501 L25.5073341,24.7477155 C24.9651298,24.8527535 24.6107365,25.377447 24.7157744,25.9196512 C24.7313245,25.9999207 24.7566603,26.0779801 24.7912143,26.1520815 L26.5743353,29.9759967 C26.8077409,30.4765367 26.5911857,31.0715171 26.0906457,31.3049227 L25.184338,31.727541 C24.683798,31.9609466 24.0888175,31.7443914 23.8554119,31.2438515 L22.072291,27.4199363 C21.8388853,26.9193963 21.2439049,26.7028411 20.7433649,26.9362467 C20.6692636,26.9708008 20.5996796,27.0143123 20.5361713,27.0658068 L18.3611183,28.8294093 C17.9321324,29.1772448 17.3023942,29.1114594 16.9545587,28.6824734 C16.8096934,28.5038109 16.7308474,28.2806704 16.7313064,28.0506573 L16.7582326,14.6170974 C16.7593395,14.0648137 17.2079512,13.6179967 17.7602349,13.6191016 C17.9939596,13.6195721 18.220137,13.7018939 18.3994816,13.8517704 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const Jf={name:"base-CursorDefault",render:jf},th={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function eh(t,e){return K(),lt("svg",th,e[0]||(e[0]=[rt("path",{d:"M32,15 C33.1045695,15 34,15.8954305 34,17 L34,28 C34,29.1045695 33.1045695,30 32,30 L13,30 C11.8954305,30 11,29.1045695 11,28 L11,17 C11,15.8954305 11.8954305,15 13,15 L32,15 Z M32,16 L13,16 C12.4477153,16 12,16.4477153 12,17 L12,28 C12,28.5522847 12.4477153,29 13,29 L32,29 C32.5522847,29 33,28.5522847 33,28 L33,17 C33,16.4477153 32.5522847,16 32,16 Z M23,25 C23.5522847,25 24,25.4477153 24,26 L24,27 C24,27.5522847 23.5522847,28 23,28 L14,28 C13.4477153,28 13,27.5522847 13,27 L13,26 C13,25.4477153 13.4477153,25 14,25 L23,25 Z M31,17 C31.5522847,17 32,17.4477153 32,18 L32,23 C32,23.5522847 31.5522847,24 31,24 L14,24 C13.4477153,24 13,23.5522847 13,23 L13,18 C13,17.4477153 13.4477153,17 14,17 L31,17 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const nh={name:"base-AddEntity",render:eh},rh={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function ih(t,e){return K(),lt("svg",rh,e[0]||(e[0]=[rt("path",{d:"M32,15 C33.1045695,15 34,15.8954305 34,17 L34,28 C34,29.1045695 33.1045695,30 32,30 L13,30 C11.8954305,30 11,29.1045695 11,28 L11,17 C11,15.8954305 11.8954305,15 13,15 L32,15 Z M32,16 L13,16 C12.4477153,16 12,16.4477153 12,17 L12,28 C12,28.5522847 12.4477153,29 13,29 L32,29 C32.5522847,29 33,28.5522847 33,28 L33,17 C33,16.4477153 32.5522847,16 32,16 Z M20.1483417,19.765467 C20.4377927,19.2951091 21.0537395,19.1484551 21.5240974,19.4379061 L25.1160552,21.6483417 C25.2493757,21.730385 25.3615728,21.8425821 25.4436161,21.9759026 C25.7330671,22.4462605 25.5864131,23.0622073 25.1160552,23.3516583 L21.5240974,25.5620939 C21.3664897,25.6590832 21.1850598,25.7104356 21,25.7104356 C20.4477153,25.7104356 20,25.2627203 20,24.7104356 L20,20.2895644 C20,20.1045046 20.0513523,19.9230747 20.1483417,19.765467 Z",fill:"currentColor"},null,-1)]))}const oh={name:"base-AddStory",render:ih},ah={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function sh(t,e){return K(),lt("svg",ah,e[0]||(e[0]=[rt("path",{d:"M32,15 C33.1045695,15 34,15.8954305 34,17 L34,28 C34,29.1045695 33.1045695,30 32,30 L13,30 C11.8954305,30 11,29.1045695 11,28 L11,17 C11,15.8954305 11.8954305,15 13,15 L32,15 Z M32,16 L13,16 C12.4477153,16 12,16.4477153 12,17 L12,28 C12,28.5522847 12.4477153,29 13,29 L32,29 C32.5522847,29 33,28.5522847 33,28 L33,17 C33,16.4477153 32.5522847,16 32,16 Z M26,22 C27.8346354,21.3884549 29.6692708,21.6183815 31.5040033,22.6896136 C31.8106661,22.8685631 31.9994458,23.1967019 32,23.5517578 L32,27 C32,27.5522847 31.5522847,28 31,28 L14,28 C13.4477153,28 13,27.5522847 13,27 L13,25.9687057 L13.0105961,25.8251331 C13.0818756,25.3451379 13.503213,24.9842004 14,25 L14.4403514,25.0105801 C20.8078896,25.11322 23.2067448,22.9310851 26,22 Z M16.75,18.5 C17.7164983,18.5 18.5,19.2835017 18.5,20.25 C18.5,21.2164983 17.7164983,22 16.75,22 C15.7835017,22 15,21.2164983 15,20.25 C15,19.2835017 15.7835017,18.5 16.75,18.5 Z",fill:"currentColor"},null,-1)]))}const lh={name:"base-AddImage",render:sh},uh={class:"icon",width:"45",height:"45",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"};function ch(t,e){return K(),lt("svg",uh,e[0]||(e[0]=[rt("path",{d:"M31.0395445,14.6621019 C31.0865261,14.8343676 31.0865261,15.0160709 31.0395445,15.1883367 L29.2261258,21.8375386 C29.0808101,22.3703629 28.531069,22.6845007 27.9982446,22.539185 C27.8303497,22.4933955 27.6773109,22.4045836 27.5542552,22.281528 L25.844,20.5709684 L15.7071068,30.7071068 C15.3165825,31.0976311 14.6834175,31.0976311 14.2928932,30.7071068 C13.9023689,30.3165825 13.9023689,29.6834175 14.2928932,29.2928932 L24.429,19.1559684 L22.718472,17.4457448 C22.3279477,17.0552205 22.3279477,16.4220555 22.718472,16.0315312 C22.8415277,15.9084756 22.9945665,15.8196637 23.1624614,15.7738742 L29.8116633,13.9604555 C30.3444877,13.8151397 30.8942288,14.1292775 31.0395445,14.6621019 Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const fh={name:"base-AddLink",render:ch},hh={class:"icon",width:"45",height:"3",viewBox:"0 0 45 3",xmlns:"http://www.w3.org/2000/svg"};function dh(t,e){return K(),lt("svg",hh,e[0]||(e[0]=[rt("path",{d:"M36.5,1 C36.7761424,1 37,1.22385763 37,1.5 C37,1.77614237 36.7761424,2 36.5,2 L8.5,2 C8.22385763,2 8,1.77614237 8,1.5 C8,1.22385763 8.22385763,1 8.5,1 L36.5,1 Z",fill:"currentColor",opacity:".25"},null,-1)]))}const pi={name:"base-SeperatorHorizontal",render:dh},ph={class:"toolbar"},gh={__name:"TheToolbar",setup(t){const e=vr(),n=ie(),r=ve();return(i,o)=>(K(),lt("section",ph,[ct(ta,{modelValue:Y(e).mode,"onUpdate:modelValue":o[0]||(o[0]=a=>Y(e).mode=a),options:[{value:"default",slot:"default",tooltip:"Select"},{value:"add-entity",slot:"add-entity",tooltip:"add entity"},{value:"add-story",slot:"add-story",tooltip:"add story"},{value:"add-image",slot:"add-image",tooltip:"add image"},{value:"add-edge",slot:"add-edge",tooltip:"add edge"},{disabled:!0,slot:"seperator"},{disabled:Y(r).markersDisabled,value:"display-blur",slot:"display-blur",tooltip:"blur"},{disabled:Y(r).markersDisabled,value:"display-default",slot:"display-default",tooltip:"default"},{disabled:Y(r).markersDisabled,value:"display-highlight",slot:"display-highlight",tooltip:"highlight"},{disabled:Y(r).markersDisabled,value:"display-frame",slot:"display-frame",tooltip:"frame"},{disabled:!0,slot:"seperator2"},{value:"download",slot:"download",tooltip:"download data",action:Y(n).exportProject}]},{default:vt(()=>[ct(Y(Jf))]),"add-entity":vt(()=>[ct(Y(nh))]),"add-story":vt(()=>[ct(Y(oh))]),"add-image":vt(()=>[ct(Y(lh))]),"add-edge":vt(()=>[ct(Y(fh))]),seperator:vt(()=>[ct(Y(pi))]),"display-blur":vt(()=>[ct(Y(Wi))]),"display-default":vt(()=>[ct(Y(xi))]),"display-highlight":vt(()=>[ct(Y(Xi))]),"display-frame":vt(()=>[ct(Y(ea))]),seperator2:vt(()=>[ct(Y(pi))]),download:vt(()=>[ct(Y(la))]),_:1},8,["modelValue","options"])]))}},yh=qt(gh,[["__scopeId","data-v-4ef6b7b7"]]),vh={class:"interface-layer fullscreen"},mh={__name:"GraphView",setup(t){const e=Oe(),n=ve();Pe();const r=j(()=>!e.showVideo||!n.pictureInPicture||n.pictureInPictureVideo);return(i,o)=>(K(),lt("div",{class:jt(["graph-view",{"split-screen":Y(e).showVideo&&!Y(n).pictureInPicture,"pip-graph":Y(e).showVideo&&Y(n).pictureInPicture&&!Y(n).pictureInPictureVideo}])},[Y(e).showVideo?(K(),St(ia,{key:0,class:jt(["video",{fullscreen:!r.value}]),onWheel:o[0]||(o[0]=Nt(()=>{},["prevent"]))},null,8,["class"])):Mt("",!0),ct(Kf,{class:jt(["graph",{fullscreen:r.value}]),onWheel:o[1]||(o[1]=Nt(()=>{},["prevent"]))},null,8,["class"]),Y(e).showVideo?(K(),lt("div",{key:1,class:"toggle-pip",onClick:o[2]||(o[2]=a=>Y(n).pictureInPictureVideo=!Y(n).pictureInPictureVideo)})):Mt("",!0),rt("div",vh,[ct(sa,{onWheel:o[3]||(o[3]=Nt(()=>{},["prevent"]))}),ct(ma),ct(na,{onWheel:o[4]||(o[4]=Nt(()=>{},["prevent"]))}),Y(n).edit?(K(),St(yh,{key:0,onWheel:o[5]||(o[5]=Nt(()=>{},["prevent"]))})):Mt("",!0),ct(ra,{class:"no-events",onWheel:o[6]||(o[6]=Nt(()=>{},["prevent"]))})])],2))}},Mh=qt(mh,[["__scopeId","data-v-12bc36a0"]]);export{Mh as default};
