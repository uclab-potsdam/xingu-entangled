import{_ as y,A as _,H as T,u as h,m as u,B as S,D as r,o as x,c as L,e as i,f as o,t as A,Q as B}from"./index-CqB-x2Ep.js";const P={class:"video"},C=["autoplay","src"],D={class:"subtitle"},F={__name:"TheVideo",props:{letterbox:Boolean},setup(V){const e=_(),l=T(),s=h(),d=B(),a=u(null);u(!1);const c=S(()=>l.getLocalizedMediaUrl(e.video.file));function p(){var t;a.value!=null&&(e.time=((t=a.value)==null?void 0:t.currentTime)??0)}function f(t){t.target.currentTime=e.playFrom??0,e.playFrom=null,e.restoreTimeAfterLanguageChange&&(t.target.currentTime=e.restoreTimeAfterLanguageChange,e.restoreTimeAfterLanguageChange=null)}function m(){e.isExternalPlayer?e.requestNext():d.push({name:"graph",params:{type:"graph",id:e.next}})}function g(){a.value!=null&&(e.duration=a.value.duration)}return r(()=>e.playFrom,t=>{t!=null&&(a.value.currentTime=t,e.playFrom=null)}),r(()=>s.videoLang,()=>{e.restoreTimeAfterLanguageChange=a.value.currentTime}),r(()=>e.setPlaying,t=>{t!=null&&(t?a.value.play():a.value.pause(),e.setPlaying=null)}),r(()=>e.muted,t=>{a.value.muted=t}),(t,n)=>(x(),L("main",P,[i("video",{ref_key:"video",ref:a,crossorigin:"anonymous",autoplay:!o(s).edit,src:c.value,onLoadstart:f,onEnded:m,onTimeupdate:p,onPause:n[0]||(n[0]=v=>o(e).playing=!1),onPlay:n[1]||(n[1]=v=>o(e).playing=!0),onDurationchange:g},null,40,C),i("div",D,A(o(e).subtitle),1)]))}},k=y(F,[["__scopeId","data-v-4d9afffe"]]);export{k as T};
