import{_ as g,A as h,G as x,u as S,m as a,B as T,H as r,o as B,c as P,e as u,f as s,t as b,Q as F}from"./index-lDa4kZPb.js";const V={class:"video"},k=["autoplay","controls","src"],D={class:"subtitle"},E={__name:"TheVideo",props:{letterbox:Boolean},setup(N){const e=h(),l=x(),i=S(),c=F(),o=a(null),d=a(!1),p=T(()=>l.getMediaUrl(e.video.file));function f(){var t;o.value!=null&&(e.time=((t=o.value)==null?void 0:t.currentTime)??0)}function m(t){t.target.currentTime=e.playFrom??0,e.playFrom=null}function v(){e.isExternalPlayer?e.requestNext():c.push({name:"graph",params:{type:"graph",id:e.next}})}function y(){o.value!=null&&(e.duration=o.value.duration)}return r(()=>e.playFrom,t=>{t!=null&&(o.value.currentTime=t,e.playFrom=null)}),r(()=>e.setPlaying,t=>{t!=null&&(t?o.value.play():o.value.pause(),e.setPlaying=null)}),(t,n)=>(B(),P("main",V,[u("video",{ref_key:"video",ref:o,crossorigin:"anonymous",autoplay:!s(i).edit,controls:!d.value,src:p.value,onLoadstart:m,onEnded:v,onTimeupdate:f,onPause:n[0]||(n[0]=_=>s(e).playing=!1),onPlay:n[1]||(n[1]=_=>s(e).playing=!0),onDurationchange:y},null,40,k),u("div",D,b(s(e).subtitle),1)]))}},H=g(E,[["__scopeId","data-v-1a665f9d"]]);export{H as T};
